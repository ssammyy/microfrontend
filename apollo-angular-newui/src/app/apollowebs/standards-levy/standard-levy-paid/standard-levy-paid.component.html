<div class="container-fluid" style="margin-top: 5%" id="main-container">
<div  class="loading-spinner ">
<ngx-spinner
bdColor="rgba(51,51,51,0.8)"
size="medium"
color="#fff"
type="ball-scale-multiple"
>
<p style="font-size: 20px; color: white">{{loadingText}}</p>
</ngx-spinner>
</div>
<div class="main-content" >
<div class="container-fluid">
<div class="row">
<div class="col-md-12">
<div class="card">
<div class="card-header card-header-primary card-header-icon">
<div class="card-icon">
<i class="material-icons">assignment</i>

</div>
    <div class="card-title float-left"><h4 style="color: #0d47a1; font-weight: bold">Payment Details</h4></div>

<div class="card-title float-right"><button type="button" class="btn btn-sm btn-outline-warning">
Tasks <span class="badge badge-primary">{{paymentDetails.length}}</span>
</button></div>
</div>
<div class="card-body">
<div class="toolbar">

</div>
<div class="row">
<!--    <div class="col-md-12">-->
<!--        <div class="card" style="background-color: #e7ecee">-->
<!--            <div class="card-body">-->
<!--                <h4 class="card-title" style="color: #0d0505; font-weight: bold">Filter By</h4>-->

<!--                <form>-->
<!--                    &lt;!&ndash;    <h4 class="card-title" style="color: #0d0505; font-weight: bold">Visit Status</h4>&ndash;&gt;-->
<!--                    &lt;!&ndash;<div class="form-check">&ndash;&gt;-->
<!--                    &lt;!&ndash;<input class="" type="checkbox" value="" id="flexCheckDefault">&ndash;&gt;-->
<!--                    &lt;!&ndash;<label class="" for="flexCheckDefault">&ndash;&gt;-->
<!--                    &lt;!&ndash;Not Scheduled&ndash;&gt;-->
<!--                    &lt;!&ndash;</label>&ndash;&gt;-->
<!--                    &lt;!&ndash;</div>&ndash;&gt;-->
<!--                    &lt;!&ndash;<div class="form-check">&ndash;&gt;-->
<!--                    &lt;!&ndash;<input class="" type="checkbox" value="" id="flexCheckChecked" >&ndash;&gt;-->
<!--                    &lt;!&ndash;<label class="" for="flexCheckChecked">&ndash;&gt;-->
<!--                    &lt;!&ndash;Pending&ndash;&gt;-->
<!--                    &lt;!&ndash;</label>&ndash;&gt;-->
<!--                    &lt;!&ndash;</div>&ndash;&gt;-->
<!--                    &lt;!&ndash;    <div class="form-check">&ndash;&gt;-->
<!--                    &lt;!&ndash;        <input class="" type="checkbox" value="" id="flexCheckChecked1" >&ndash;&gt;-->
<!--                    &lt;!&ndash;        <label class="" for="flexCheckChecked1">&ndash;&gt;-->
<!--                    &lt;!&ndash;            Done&ndash;&gt;-->
<!--                    &lt;!&ndash;        </label>&ndash;&gt;-->
<!--                    &lt;!&ndash;    </div>&ndash;&gt;-->
<!--&lt;!&ndash;<div class="row">&ndash;&gt;-->
<!--&lt;!&ndash; <div class="col-3">&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;     <h4 class="card-title" style="color: #0d0505; font-weight: bold">Payment Date</h4>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;     <div class="form-group">&ndash;&gt;-->
<!--&lt;!&ndash;         <label class="form-check-label" >&ndash;&gt;-->
<!--&lt;!&ndash;             From&ndash;&gt;-->
<!--&lt;!&ndash;         </label>&ndash;&gt;-->
<!--&lt;!&ndash;         <input class="control-label" type="date" value="" id="from">&ndash;&gt;-->

<!--&lt;!&ndash;     </div>&ndash;&gt;-->
<!--&lt;!&ndash; </div>&ndash;&gt;-->
<!--&lt;!&ndash; <div class="col-3">&ndash;&gt;-->
<!--&lt;!&ndash;     <div class="form-group">&ndash;&gt;-->
<!--&lt;!&ndash;         <label class="form-check-label" >&ndash;&gt;-->
<!--&lt;!&ndash;             To&ndash;&gt;-->
<!--&lt;!&ndash;         </label>&ndash;&gt;-->
<!--&lt;!&ndash;         <input class="control-label" type="date" value="" id="to">&ndash;&gt;-->

<!--&lt;!&ndash;     </div>&ndash;&gt;-->
<!--&lt;!&ndash; </div>&ndash;&gt;-->
<!--&lt;!&ndash; &ndash;&gt;-->
<!--&lt;!&ndash;    <div class="col-3">&ndash;&gt;-->
<!--&lt;!&ndash;        <button class="btn btn-sm btn-primary">Apply Filter</button>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->

<!--&lt;!&ndash;</div>&ndash;&gt;-->





<!--                </form>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<div class="material-datatables table-responsive col-md-12">
    <table class="table table-striped table-bordered table-hover" datatable
           [dtOptions]="dtOptions" [dtTrigger]="dtTrigger1">
<thead>
<tr>
<th>#</th>
<th class="knw">Entry Number</th>
<th class="sl">Manufacturer</th>
<th class="knw">Registration Number</th>
<th class="sl">Kra Pin</th>
    <th></th>
</tr>
</thead>
<tbody>
<!--<input class="" type="checkbox" value="{{paymentDetail.id}}" id="{{paymentDetail.id}}">-->
<tr  *ngFor="let paymentDetail of paymentDetails let i=index">
    <td >{{i+1}} </td>
<td>{{paymentDetail.entryNumber}}</td>
<td>{{paymentDetail.companyName}}</td>
<td>{{paymentDetail.registrationNumber}}</td>
<td>{{paymentDetail.kraPin}}</td>
<td><button (click)="onOpenModalPayment(paymentDetail,'paymentDetails',paymentDetail.companyId)" type="submit" class="btn btn-success btn-sm"  style="border-radius: 40px;"> More</button></td>
</tr>
</tbody>
</table>
</div>
    <div class="modal fade" id="paymentDetails" tabindex="-1" role="dialog" aria-labelledby="paymentDetailsModalLabel" aria-hidden="true">a
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="paymentDetailsModalLabel"><b>Payment Details for {{actionRequest?.companyName}}</b></h3>
                    <button type="button" class="close" #closeModalCDetails data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="material-datatables table-responsive col-md-12">
                    <table class="table table-striped table-bordered table-hover" datatable
                           [dtOptions]="dtOptions" [dtTrigger]="dtTrigger2">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th class="knw">Entry Number</th>
                            <th class="knw">Payment Date</th>
                            <th class="knw">Total Declared Amount</th>
                            <th class="sl">Levy Paid</th>
                            <th class="knw">Total Penalty Amount</th>
                            <th class="knw">Penalty Paid</th>
                            <th class="knw">Period For</th>
                            <th class="knw">Total Payment Amount</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr  *ngFor="let paidDetail of paidDetails let i=index">
                            <td >{{i+1}} </td>
                            <td>{{paidDetail.entryNumber}}</td>
                            <td>{{paidDetail.paymentDate | date: 'dd/MM/yyyy'}}</td>
                            <td>{{paidDetail.totalDeclAmt}}</td>
                            <td>{{paidDetail.levyPaid}}</td>
                            <td>{{paidDetail.totalPenaltyAmt}}</td>
                            <td>{{paidDetail.penaltyPaid}}</td>
                            <td>{{paidDetail.periodFrom | date: 'dd/MM/yyyy'}}-{{paidDetail.periodTo | date: 'dd/MM/yyyy'}}</td>
                            <td>KSH {{paidDetail.totalPaymentAmt}}</td>
                            <td><button (click)="getLevyPaymentsReceipt(paidDetail.id,'Slip'+paidDetail.id,'application/pdf')"  class="btn btn-success btn-sm" style="width: 115px" > Print E-Slip</button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>


</div>
</div>
<!--    <div *ngFor="let pdfDetail of pdfDetails" class="container bootdey" [hidden]="" #pdfTable  >-->
<!--        <div class="row invoice row-printable">-->
<!--            <div class="col-md-12">-->
<!--                <div class="panel panel-default plain" id="dash_0">-->
<!--                    <div class="panel-body p30">-->
<!--                        <div class="row">-->
<!--                            <div class="col-lg-12">-->
<!--                                <div class="invoice-items">-->
<!--                                    <div class="table-responsive" style="overflow: hidden; outline: none;" tabindex="0">-->
<!--                                        <table class="table table-bordered">-->
<!--                                            <tbody>-->
<!--                                            <tr>-->
<!--                                                <td class="text-center" style='border:none; color: #1263d9'>Entry Number:</td>-->
<!--                                                <td class="text-center" style='border:none; color: #be0909; '>{{pdfDetail.entryNumber}}</td>-->
<!--                                                <td class="text-center" style='border:none;'></td>-->
<!--                                                <td class="text-center" style='border:none; color: #1263d9'>Kenya Bureau of Standards</td>-->
<!--                                            </tr>-->
<!--                                            <tr>-->
<!--                                                <td class="text-center" style='border:none; color: #1263d9'>Received From:</td>-->
<!--                                                <td class="text-center" style='border:none;color: #be0909; '>{{pdfDetail.companyName}}</td>-->
<!--                                                <td class="text-center" style='border:none;'></td>-->
<!--                                                <td class="text-center" style='border:none; color: #1263d9'>Popo Rd, South-C</td>-->
<!--                                            </tr>-->


<!--                                            <tr>-->
<!--                                                <td class="text-center" style='border:none;'></td>-->
<!--                                                <td class="text-center" style='border:none;'></td>-->
<!--                                                <td class="text-center" style='border:none;'></td>-->
<!--                                                <td class="text-center" style='border:none;'></td>-->
<!--                                            </tr>-->
<!--                                            <tr>-->
<!--                                                <td class="text-center">Period From</td>-->
<!--                                                <td class="text-center">Period To</td>-->
<!--                                                <td class="text-center">Date Paid</td>-->
<!--                                                <td class="text-center">Payment Amount</td>-->
<!--                                            </tr>-->
<!--                                            <tr>-->
<!--                                                <td class="text-center">{{pdfDetail.periodFrom | date: 'dd/MM/yyyy'}}</td>-->
<!--                                                <td class="text-center">{{pdfDetail.periodTo | date: 'dd/MM/yyyy'}}</td>-->
<!--                                                <td class="text-center">{{pdfDetail.paymentDate | date: 'dd/MM/yyyy'}}</td>-->
<!--                                                <td class="text-center">Ksh.{{pdfDetail.paymentAmount}}</td>-->
<!--                                            </tr>-->

<!--                                            </tbody>-->

<!--                                        </table>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="invoice-footer mt25">-->
<!--                                    <p class="text-center">Generated on Monday, October 08th, 2015 </p>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
</div>
</div>

</div>
</div>
</div>
</div>
</div>
</div>

