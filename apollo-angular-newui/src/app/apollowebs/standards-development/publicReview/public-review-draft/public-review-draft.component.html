<div class="container-fluid" style="margin-top: 5%" id="main-container">
    <div class="loading-spinner ">
        <ngx-spinner
                bdColor="rgba(51,51,51,0.8)"
                size="medium"
                color="#fff"
                type="ball-scale-multiple"
        >
            <p style="font-size: 20px; color: white">Loading...</p>
        </ngx-spinner>
    </div>
    <div class="main-content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header card-header-primary card-header-icon">
                            <div class="card-icon">
                                <i class="material-icons">assignment</i>
                            </div>
                            <h4 class="card-title">View Public Review Draft
                            </h4>

                        </div>
                        <div class="card-body">
                            <div class="toolbar">

                            </div>

                            <h4 class="card-title">All Public Review Drafts
                            </h4>
                            <div class="material-datatables table-responsive">
                                <table class="table table-striped table-bordered table-hover" datatable
                                       [dtOptions]="dtOptions" [dtTrigger]="dtTrigger1">
                                    <thead>
                                    <tr>
                                        <th class="id">No</th>
                                        <th class="id">KsNo</th>
                                        <th class="task">Public Review Draft Name</th>
                                        <th class="action">Public Review Draft Details</th>
                                        <th class="action">Status</th>
                                        <th class="action">Comments</th>
                                        <th class="action">Action</th>

                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let publicReviewDraft of publicReviewDrafts let i= index; ">
                                        <td>{{i + 1}}</td>
                                        <td>{{publicReviewDraft.ks_NUMBER}}</td>
                                        <td>{{publicReviewDraft.prd_name}}</td>
                                        <td>
                                            <a (click)="onOpenModal(publicReviewDraft,'moreDetails')"
                                               class="btn btn-info tooltips"
                                               data-placement="top"
                                               data-original-title="More Details">More Details</a>
                                        </td>
                                        <td><span class="badge badge-rose">{{publicReviewDraft.status}}</span></td>
                                        <td><span class="badge badge-orange"><a
                                                (click)="onOpenModal(publicReviewDraft,'comments')"
                                                class="btn btn-rose tooltips"
                                                data-placement="top"
                                                data-original-title="View Comments"> {{publicReviewDraft.number_OF_COMMENTS}}
                                            Comment(s)</a></span></td>
                                        <td *ngIf="publicReviewDraft.status==='Send Draft To Head Of Trade Affairs'">
                                            <a (click)="onOpenModal(publicReviewDraft,'prepareNotification')"
                                               style="width: 250px" class="btn btn-info tooltips" data-placement="top"
                                               data-original-title="Upload NWI">Prepare WTO Notification</a></td>
                                        <td *ngIf="publicReviewDraft.status==='Sent To Head Of Trade Affairs'"><a
                                                class="btn btn-success tooltips" style="width: 250px"
                                                data-placement="top" data-original-title="Upload NWI">In Publishing and
                                            NEP</a></td>
                                        <td *ngIf="publicReviewDraft.status==='Approved by HOP'">
                                            <a (click)="onOpenModal(publicReviewDraft,'sendToOrganisations')"
                                               class="btn btn-warning tooltips"
                                               data-placement="top" style="width: 250px"
                                               data-original-title="Upload NWI">Send To
                                                Organizations/Departments </a>
                                        </td>
                                        <td *ngIf="publicReviewDraft.status==='Sent To Departments'"><a (click)="postToWebsite(publicReviewDraft)"
                                                                                                        class="btn btn-info tooltips"
                                                                                                        data-placement="top" style="width: 250px"
                                                                                                        data-original-title="Upload NWI">Post To Website</a></td>
                                        <td *ngIf="publicReviewDraft.status==='Edited'"></td>
                                        <td *ngIf="publicReviewDraft.status==='Ballot draft uploaded'"></td>
                                        <td *ngIf="publicReviewDraft.status==='Draft documents for ballot uploaded'"></td>
                                        <td *ngIf="publicReviewDraft.status==='Posted On Website For Comments'"><a
                                                (click)="approveDraftD(publicReviewDraft)"
                                                class="btn btn-success tooltips"
                                                data-placement="top"
                                                data-original-title="Upload NWI">Approve Public Review Draft</a></td>
                                        <td *ngIf="publicReviewDraft.status==='Ballot Draft Uploaded'"></td>
                                        <td *ngIf="publicReviewDraft.status==='Approved For Balloting'">
                                            <a (click)="onOpenModal(publicReviewDraft,'moreDetails')"
                                               class="btn btn-info tooltips" style="width: 250px"
                                               data-placement="top"
                                               data-original-title="More Details">View Draft</a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="modal fade " id="prepareNotification" tabindex="-1" role="dialog"
                                 aria-labelledby="prepareNotificationModalLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog modal-lg modal-xl" role="document" style="width: 100%">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h2 style="font-weight: bold" class="modal-title"
                                                id="prepareNotificationModalLabel">WTO Notification</h2>
                                            <button type="button" #closeModalChanges class="close" data-dismiss="modal"
                                                    aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div style="text-align: center;">
                                            <h4>The following notification is being circulated in accordance with
                                                Article 10.6</h4>
                                        </div>
                                        <form (ngSubmit)="notificationOfReview()"
                                              [formGroup]="preparePreliminaryDraftFormGroup" class="form"
                                              style="width: 100%">
                                            <div class="modal-body">
                                                <div class="row col-12">
                                                    <div class="form-group col-12">
                                                        <label>Notifying Member: <span
                                                                style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                        <h3>If applicable, name of local government involved (Article
                                                            3.2 and 7.2):</h3>
                                                        <textarea
                                                                [class.is-invalid]="formPreparePD.notifyingMember.invalid && formPreparePD.notifyingMember.touched"
                                                                class="form-control" value="{{notifyingMember}}"
                                                                formControlName="notifyingMember" name="notifyingMember"
                                                                type="text"></textarea>
                                                    </div>
                                                </div>
                                                <div class="form-group col-12">
                                                    <label>Agency responsible <span
                                                            style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.agencyResponsible.invalid && formPreparePD.agencyResponsible.touched"
                                                            class="form-control" value="{{agencyResponsible}}"
                                                            formControlName="agencyResponsible" name="agencyResponsible"
                                                            type="text"></textarea>

                                                </div>
                                                <h3>Name and address (including telephone and fax numbers, email and
                                                    website addresses, if available) of agency or
                                                    authority designated to handle comments regarding the notification
                                                    shall be indicated if different from above:</h3>
                                                <hr>
                                                <div class="form-group col-12 ">
                                                    <label>Address <span style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.addressOfAgency.invalid && formPreparePD.addressOfAgency.touched"
                                                            class="form-control" value="{{addressOfAgency}}"
                                                            formControlName="addressOfAgency" name="addressOfAgency"
                                                            type="text"></textarea>

                                                </div>
                                                <div class="form-group col-12">
                                                    <label>Telephone<span style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.telephoneOfAgency.invalid && formPreparePD.telephoneOfAgency.touched"
                                                            class="form-control" value="{{telephoneOfAgency}}"
                                                            formControlName="telephoneOfAgency" name="telephoneOfAgency"
                                                            type="text"></textarea>
                                                </div>

                                                <div class="form-group col-12">
                                                    <label>Fax<span
                                                            style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.faxOfAgency.invalid && formPreparePD.faxOfAgency.touched"
                                                            class="form-control" value="{{faxOfAgency}}"
                                                            formControlName="faxOfAgency" name="faxOfAgency"
                                                            type="text"></textarea>
                                                </div>
                                                <div class="form-group col-12">
                                                    <label>E-Mail<span style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.emailOfAgency.invalid && formPreparePD.emailOfAgency.touched"
                                                            class="form-control" value="{{emailOfAgency}}"
                                                            formControlName="emailOfAgency" name="emailOfAgency"
                                                            type="text"></textarea>
                                                </div>
                                                <div class="form-group col-12">
                                                    <label>Website<span style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.websiteOfAgency.invalid && formPreparePD.websiteOfAgency.touched"
                                                            class="form-control" value="{{websiteOfAgency}}"
                                                            formControlName="websiteOfAgency" name="websiteOfAgency"
                                                            type="text"></textarea>
                                                </div>
                                                <div class="form-group col-12">
                                                    <label>Notified under Article<span
                                                            style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <select class="form-control"
                                                            [class.is-invalid]="formPreparePD.notifiedUnderArticle.invalid && formPreparePD.notifiedUnderArticle.touched"
                                                            formControlName="notifiedUnderArticle"
                                                            name="notifiedUnderArticle">
                                                        <option value="2.9.2">2.9.2</option>
                                                        <option value="2.10.1">2.10.1</option>
                                                        <option value="5.6.2">5.6.2</option>
                                                        <option value="5.7.1">5.7.1</option>
                                                        <option value="Other">Other</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-12">
                                                    <label>Products covered (HS or CCCN where applicable, otherwise
                                                        national tariff heading. ICS numbers may be provided in
                                                        addition, where applicable):<span
                                                                style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.productsCovered.invalid && formPreparePD.productsCovered.touched"
                                                            class="form-control" formControlName="productsCovered"
                                                            name="productsCovered" type="text"></textarea>
                                                </div>
                                                <div class="form-group col-12">
                                                    <label>Title, number of pages and language(s) of the notified
                                                        document: <span style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.descriptionOfNotifiedDoc.invalid && formPreparePD.descriptionOfNotifiedDoc.touched"
                                                            class="form-control"
                                                            placeholder="i.e Title , 8 page(s), in English"
                                                            formControlName="descriptionOfNotifiedDoc"
                                                            name="descriptionOfNotifiedDoc" type="text"></textarea>
                                                </div>
                                                <div class="form-group col-12">
                                                    <label>Description of content: <span
                                                            style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.descriptionOfContent.invalid && formPreparePD.descriptionOfContent.touched"
                                                            class="form-control" placeholder=""
                                                            formControlName="descriptionOfContent"
                                                            name="descriptionOfContent" type="text"></textarea>
                                                </div>
                                                <div class="form-group col-12">
                                                    <label>Objective and rationale, including the nature of urgent
                                                        problems where applicable: <span
                                                                style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.objectiveAndRationale.invalid && formPreparePD.objectiveAndRationale.touched"
                                                            class="form-control" placeholder=""
                                                            formControlName="objectiveAndRationale"
                                                            name="objectiveAndRationale" type="text"></textarea>
                                                </div>
                                                <div class="form-group col-12">
                                                    <label>Relevant documents: <span
                                                            style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.relevantDocuments.invalid && formPreparePD.relevantDocuments.touched"
                                                            class="form-control" placeholder=""
                                                            formControlName="relevantDocuments" name="relevantDocuments"
                                                            type="text"></textarea>
                                                </div>
                                                <div class="row col-12">
                                                    <div class="form-group col-6">
                                                        <label>Proposed date of adoption: <span
                                                                style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                        <input [class.is-invalid]="formPreparePD.proposedDateOfAdoption.invalid && formPreparePD.proposedDateOfAdoption.touched"
                                                               class="form-control" placeholder=""
                                                               formControlName="proposedDateOfAdoption"
                                                               name="proposedDateOfAdoption" type="date">
                                                    </div>
                                                    <div class="form-group col-6">
                                                        <label>Proposed date of entry into force: <span
                                                                style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                        <input [class.is-invalid]="formPreparePD.proposedDateOfEntryIntoForce.invalid && formPreparePD.proposedDateOfEntryIntoForce.touched"
                                                               class="form-control" placeholder=""
                                                               formControlName="proposedDateOfEntryIntoForce"
                                                               name="proposedDateOfEntryIntoForce" type="date">
                                                    </div>
                                                </div>
                                                <input type="hidden" formControlName="pid" name="pid"
                                                       value="{{publicReviewDraftsB?.id}}">
                                                <input type="hidden" formControlName="cd_Id" name="cd_Id"
                                                       value="{{publicReviewDraftsB?.cd_Id}}">
                                                <input type="hidden" formControlName="prd_name" name="prd_name"
                                                       value="{{publicReviewDraftsB?.prd_name}}">
                                                <input type="hidden" formControlName="ks_NUMBER" name="ks_NUMBER"
                                                       value="{{publicReviewDraftsB?.ks_NUMBER}}">
                                                <input type="hidden" formControlName="organization" name="organization"
                                                       value="{{publicReviewDraftsB?.organization}}">
                                                <input type="hidden" formControlName="prd_by" name="prd_by"
                                                       value="{{publicReviewDraftsB?.prd_by}}">
                                                <input type="hidden" formControlName="status" name="status"
                                                       value="{{publicReviewDraftsB?.status}}">
                                                <input type="hidden" formControlName="created_on" name="created_on"
                                                       value="{{publicReviewDraftsB?.created_on}}">
                                                <input type="hidden" formControlName="number_OF_COMMENTS"
                                                       name="number_OF_COMMENTS"
                                                       value="{{publicReviewDraftsB?.number_OF_COMMENTS}}">
                                                <input type="hidden" formControlName="var_FIELD_1" name="var_FIELD_1"
                                                       value="{{publicReviewDraftsB?.var_FIELD_1}}">
                                                <div class="form-group col-12">
                                                    <label>Text available from: National enquiry point [X], or address,
                                                        telephone and fax numbers, e-mail and web-site addresses, if
                                                        available of the other body: <span
                                                                style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <textarea
                                                            [class.is-invalid]="formPreparePD.textAvailableFrom.invalid && formPreparePD.textAvailableFrom.touched"
                                                            class="form-control" placeholder=""
                                                            value="{{textAvailableFrom}}"
                                                            formControlName="textAvailableFrom" name="textAvailableFrom"
                                                            rows="5" type="text"></textarea>
                                                </div>
                                                <div class="row col-12">
                                                    <div class="form-group col-12">
                                                        <div class="form-group col-12">
                                                            <label><b>Attach Documents</b><span style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                            <form #demoForm="ngForm">
                                                                <file-upload [(ngModel)]="uploadedFile" name="uploadedFile" fileslimit="1"   accept=".docx,.pdf" ></file-upload>
                                                                <input class="form-control one-column-input" ngModel="Report"  name="DocDescription" type="hidden">
                                                            </form>
                                                        </div>
                                                    </div>


                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button *ngIf="preparePreliminaryDraftFormGroup.valid"
                                                        [disabled]="!preparePreliminaryDraftFormGroup.valid"
                                                        class="btn btn-sm btn-primary float-right" type="submit">Submit
                                                </button>
                                                <button *ngIf="!preparePreliminaryDraftFormGroup.valid"
                                                        class="btn btn-sm btn-primary float-right"
                                                        (click)="showNotification('top','right')">Submit
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="modal fade " id="moreDetails" tabindex="-1" role="dialog"
                                 aria-labelledby="moreDetailsModalLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog modal-lg modal-xl" role="document" style="width: 100%">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="moreDetailsModalLabel">View Public Review
                                                Draft
                                                Details</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <form #editForm="ngForm">
                                            <div class="modal-body">
                                                <div class="row col-12">
                                                    <div class="form-group col-6">
                                                        <label><b>Public Review Draft Name</b></label>
                                                        <input
                                                                readonly
                                                                aria-describedby="inputGroup-sizing-sm"
                                                                aria-label="Small"
                                                                class="form-control one-column-input"
                                                                value="{{publicReviewDraftsB?.prd_name}}"
                                                                type="text">
                                                    </div>
                                                    <div class="form-group col-6">
                                                        <label><b>Prepared By</b></label>
                                                        <input
                                                                readonly
                                                                aria-describedby="inputGroup-sizing-sm"
                                                                aria-label="Small"
                                                                class="form-control one-column-input"
                                                                value="{{publicReviewDraftsB?.prd_by}}"
                                                                type="text">
                                                    </div>

                                                </div>
                                                <div class="row col-12">
                                                    <div class="form-group col-10">
                                                        <label><b>KS Number</b></label>
                                                        <input
                                                                readonly
                                                                aria-describedby="inputGroup-sizing-sm"
                                                                aria-label="Small"
                                                                class="form-control one-column-input"
                                                                value="{{publicReviewDraftsB?.ks_NUMBER}}"
                                                                type="text">
                                                    </div>


                                                </div>

                                                <div class="row col-12">
                                                    <div class="col-md-6 ml-auto mr-auto">
                                                        <br>
                                                        <button class="btn btn-success tooltips" style="width: inherit"
                                                                (click)="
                                                                viewPdfFile( publicReviewDraftsB?.id,publicReviewDraftsB?.prd_name, 'application/pdf','PRD Document')"
                                                                data-placement="top"
                                                                data-original-title="Upload NWI"><i
                                                                class="fa fa-download"></i> Download
                                                            Public Review Draft
                                                        </button>
                                                        <br>
                                                    </div>
                                                </div>
                                                <div class="row col-12">
                                                    <div class="form-group col-12">
                                                        <label><b>Draft Documents Including Minutes</b></label>
                                                        <div class="material-datatables">
                                                            <table class="table table-striped table-bordered table-hover"
                                                                   datatable
                                                                   [dtOptions]="dtOptions" [dtTrigger]="dtTrigger2">
                                                                <thead>
                                                                <tr>
                                                                    <th class="id">Document Name</th>
                                                                    <th class="action">Action</th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr *ngFor="let standardDocument of standardDocuments let i= index; ">
                                                                    <td>{{standardDocument.description}}</td>
                                                                    <td>
                                                                        <a
                                                                                (click)="viewPdfFileById(standardDocument.id,standardDocument.description, 'application/pdf',standardDocument.description)"

                                                                                class="btn btn-info tooltips"
                                                                                data-placement="top"
                                                                                data-original-title="Upload NWI">Download</a>
                                                                    </td>

                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>


                                                </div>


                                            </div>


                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" #closeModal
                                                        (click)="hideModel()" data-dismiss="modal">Close
                                                </button>


                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="modal fade " id="comments" tabindex="-1" role="dialog"
                                 aria-labelledby="commentsModalLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog modal-lg modal-xl" role="document" style="width: 100%">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="commentsModalLabel">View Comments</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row col-12">
                                                <div class="form-group col-12">
                                                    <label><b>Comments</b></label>
                                                    <div class="material-datatables">
                                                        <table class="table table-striped table-bordered table-hover"
                                                               datatable
                                                               [dtOptions]="dtOptions" [dtTrigger]="dtTrigger3">
                                                            <thead>
                                                            <tr>
                                                                <th class="id">No</th>
                                                                <th class="action">Comment</th>
                                                                <th class="action">Made by</th>
                                                                <th class="action">Comment Date</th>
                                                                <th class="action">Action</th>

                                                            </tr>
                                                            </thead>
                                                            <tbody>
                                                            <tr *ngFor="let commentMadeRetrieved of commentMadeRetrievedS let i= index; ">
                                                                <td>{{i + 1}}</td>
                                                                <td>{{commentMadeRetrieved.comments_made}}</td>
                                                                <td>{{commentMadeRetrieved.comment_by}}</td>
                                                                <td>{{commentMadeRetrieved.created_on}}</td>
                                                                <td>
                                                                    <a (click)="onOpenModalB(commentMadeRetrieved,'viewComment')"
                                                                       class="btn btn-info tooltips"
                                                                       data-placement="top"
                                                                       data-original-title="More Details">More
                                                                        Details</a></td>
                                                            </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                    (click)="hideModel()" data-dismiss="modal">Close
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal fade " id="viewComment" tabindex="-1"
                                 role="dialog" aria-hidden="true">
                                <div class="modal-dialog modal-lg modal-xl" role="document"
                                     style="width: 100%">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title"
                                                id="viewCommentModalLabel">
                                                View Comment On Committee Draft</h5>
                                            <button type="button" class="close"
                                                    data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row col-12">
                                                <div class="form-group col-12">

                                                    <div class="form-body">

                                                        <div class="row col-12">
                                                            <div class="form-group col-6">
                                                                <label><b>Title</b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <input
                                                                        readonly
                                                                        aria-describedby="inputGroup-sizing-sm"
                                                                        aria-label="Small"
                                                                        class="form-control one-column-input"
                                                                        name="title"
                                                                        ngModel="{{this.commentMadeRetrievedB?.title}}"
                                                                        placeholder="Title"
                                                                        type="text">
                                                            </div>
                                                            <div class="form-group col-6">
                                                                <label><b>Document
                                                                    Type</b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <input
                                                                        readonly
                                                                        aria-describedby="inputGroup-sizing-sm"
                                                                        aria-label="Small"
                                                                        class="form-control one-column-input"
                                                                        name="documentType"
                                                                        ngModel="{{this.commentMadeRetrievedB?.document_type}}"
                                                                        placeholder="Document Type"
                                                                        type="text">
                                                            </div>


                                                        </div>
                                                        <div class="row col-12">
                                                            <div class="form-group col-6">
                                                                <label><b>Circulation
                                                                    Date</b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <input
                                                                        readonly
                                                                        aria-describedby="inputGroup-sizing-sm"
                                                                        aria-label="Small"
                                                                        class="form-control one-column-input"
                                                                        name="circulationDate"
                                                                        ngModel="{{formatFormDate(this.commentMadeRetrievedB?.circulation_date.toString().split(' ')[0])}}"
                                                                        placeholder="Circulation Date"
                                                                        type="date">
                                                            </div>
                                                            <div class="form-group col-6">
                                                                <label><b>Closing
                                                                    Date</b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <input
                                                                        readonly
                                                                        aria-describedby="inputGroup-sizing-sm"
                                                                        aria-label="Small"
                                                                        class="form-control one-column-input"
                                                                        name="closingDate"
                                                                        ngModel="{{formatFormDate(this.commentMadeRetrievedB?.closing_date.toString().split(' ')[0])}}"
                                                                        placeholder="Closing Date"
                                                                        type="date">
                                                            </div>


                                                        </div>
                                                        <div class="row col-12">
                                                            <div class="form-group col-6">
                                                                <label><b>Organization
                                                                </b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <input
                                                                        readonly
                                                                        aria-describedby="inputGroup-sizing-sm"
                                                                        aria-label="Small"
                                                                        class="form-control one-column-input"
                                                                        name="organization"
                                                                        placeholder="Organization"
                                                                        ngModel="{{this.commentMadeRetrievedB?.organization}}"

                                                                        type="text">
                                                            </div>
                                                            <div class="form-group col-6">
                                                                <label><b>Clause
                                                                </b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <input
                                                                        readonly
                                                                        aria-describedby="inputGroup-sizing-sm"
                                                                        aria-label="Small"
                                                                        class="form-control one-column-input"
                                                                        name="clause"
                                                                        ngModel="{{this.commentMadeRetrievedB?.clause}}"

                                                                        placeholder="Clause"
                                                                        type="text">
                                                            </div>


                                                        </div>
                                                        <div class="row col-12">
                                                            <div class="form-group col-6">
                                                                <label><b>Paragraph/Figure/Table
                                                                </b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <input
                                                                        readonly
                                                                        aria-describedby="inputGroup-sizing-sm"
                                                                        aria-label="Small"
                                                                        class="form-control one-column-input"
                                                                        name="paragraph"
                                                                        placeholder="Paragraph"
                                                                        ngModel="{{this.commentMadeRetrievedB?.paragraph}}"

                                                                        type="text">
                                                            </div>
                                                            <div class="form-group col-6">
                                                                <label><b>Type Of
                                                                    Comment
                                                                </b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <select aria-label="Small"
                                                                        aria-describedby="inputGroup-sizing-lg"
                                                                        class="form-control"
                                                                        required
                                                                        name="commentType"
                                                                        ngModel="{{this.commentMadeRetrievedB?.comment_type}}"
                                                                        readonly="">
                                                                    <option selected>
                                                                        {{this.commentMadeRetrievedB?.comment_type}}
                                                                    </option>

                                                                </select>
                                                            </div>


                                                        </div>
                                                        <div class="row col-12">
                                                            <div class="form-group col-6">
                                                                <label><b>Comment</b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <input
                                                                        readonly
                                                                        aria-describedby="inputGroup-sizing-sm"
                                                                        aria-label="Small"
                                                                        class="form-control one-column-input"
                                                                        name="commentsMade"
                                                                        placeholder="Comment"
                                                                        ngModel="{{this.commentMadeRetrievedB?.comments_made}}"

                                                                        type="text">
                                                            </div>
                                                            <div class="form-group col-6">
                                                                <label><b>Proposed
                                                                    Change</b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <input
                                                                        readonly
                                                                        aria-describedby="inputGroup-sizing-sm"
                                                                        aria-label="Small"
                                                                        class="form-control one-column-input"
                                                                        name="proposedChange"
                                                                        placeholder="Proposed Change"
                                                                        ngModel="{{this.commentMadeRetrievedB?.proposed_change}}"

                                                                        type="text">
                                                            </div>


                                                        </div>
                                                        <div class="row col-12">
                                                            <div class="form-group col-6">
                                                                <label><b>TC
                                                                    Observation</b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <input
                                                                        readonly
                                                                        aria-describedby="inputGroup-sizing-sm"
                                                                        aria-label="Small"
                                                                        class="form-control one-column-input"
                                                                        name="observation"
                                                                        placeholder="TC Observation"
                                                                        ngModel="{{this.commentMadeRetrievedB?.observation}}"

                                                                        type="text">
                                                            </div>
                                                            <div class="form-group col-6">
                                                                <label><b>Recipient</b><span
                                                                        style="font-size: xx-small; color: red;"> (*)Required</span></label>
                                                                <select aria-label="Small"
                                                                        aria-describedby="inputGroup-sizing-lg"
                                                                        class="form-control"
                                                                        required
                                                                        name="recipientId"
                                                                        ngModel="{{this.commentMadeRetrievedB?.recipient_id}}"
                                                                        readonly="">
                                                                    <option selected
                                                                            value="{{this.commentMadeRetrievedB?.recipient_id}}">
                                                                        {{this.commentMadeRetrievedB?.received_by}}
                                                                    </option>

                                                                </select>
                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                    data-dismiss="modal">Close
                                            </button>

                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="modal fade " id="sendToOrganisations" tabindex="-1" role="dialog"
                                 aria-labelledby="sendToOrganisationsModalLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog modal-lg modal-xl" role="document" style="width: 100%">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="sendToOrganisationsModalLabel">Send To
                                                Organisations/Departments That Are Interested</h5>
                                            <button type="button" #closeDraftChanges class="close" data-dismiss="modal"
                                                    aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <form (ngSubmit)="sendPublicReview()" [formGroup]="isProposalFormGroup"
                                              class="form">
                                            <div class="modal-body">
                                                <input type="hidden" value="{{publicReviewDraftsB?.id}}"
                                                       formControlName="prId" name="prId">
                                                <div class="form-group col-12">
                                                    <label><b>Select Interested Stake Holders</b><span
                                                            style="font-size: xx-small; color: red;">(*)Required</span></label>
                                                    <ng-multiselect-dropdown
                                                            [placeholder]="'Select Stakeholders to send Public Review'"
                                                            [settings]="dropdownSettings"
                                                            [data]="dropdownList"
                                                            (onSelect)="onItemSelect($event)"
                                                            (onSelectAll)="onSelectAll($event)"
                                                            formControlName="stakeholdersList"
                                                            name="stakeholdersList">
                                                    </ng-multiselect-dropdown>
                                                </div>

                                                <div class="row col-12">
                                                    <br>
                                                    <p style="color: red">(*)Type Emails,Phone Number and Names of
                                                        Interested Stake Holders that are not on the Dropdown Select
                                                        List(Comma Separated)</p>
                                                    <label><b>Stake Holders Contacts</b><span
                                                            style="font-size: xx-small; color: red;"></span></label>
                                                    <div class="form-group col-4">
                                                        <label><b>Names</b><span
                                                                style="font-size: xx-small; color: red;"></span></label>
                                                        <input aria-describedby="inputGroup-sizing-sm"
                                                               aria-label="Small"
                                                               [class.is-invalid]="formISProposal.stakeHolderName.touched && formISProposal.stakeHolderEmail.touched && formISProposal.stakeHolderPhone.touched "
                                                               class="form-control one-column-input"
                                                               formControlName="stakeHolderName" name="stakeHolderName"
                                                               placeholder="" type="text">
                                                    </div>
                                                    <div class="form-group col-4">
                                                        <label><b>Email</b><span
                                                                style="font-size: xx-small; color: red;"></span></label>
                                                        <input aria-describedby="inputGroup-sizing-sm"
                                                               aria-label="Small"
                                                               [class.is-invalid]="formISProposal.stakeHolderName.touched && formISProposal.stakeHolderEmail.touched && formISProposal.stakeHolderPhone.touched "
                                                               class="form-control one-column-input"
                                                               formControlName="stakeHolderEmail"
                                                               name="stakeHolderEmail"
                                                               placeholder="" type="text">
                                                    </div>
                                                    <div class="form-group col-4">
                                                        <label><b>Phone Number</b><span
                                                                style="font-size: xx-small; color: red;"></span></label>
                                                        <input aria-describedby="inputGroup-sizing-sm"
                                                               aria-label="Small"
                                                               [class.is-invalid]="formISProposal.stakeHolderName.touched && formISProposal.stakeHolderEmail.touched && formISProposal.stakeHolderPhone.touched "
                                                               class="form-control one-column-input"
                                                               formControlName="stakeHolderPhone"
                                                               name="stakeHolderPhone"
                                                               placeholder="" type="text">
                                                    </div>
                                                    <div class="col">
                                                        <div class="form-group">
                                                            <button *ngIf="isProposalFormGroup.valid" mat-raised-button
                                                                    class="btn btn-success float-right"
                                                                    (click)="onClickAddResource()" type="button">Add
                                                                StakeHolder
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="col-12" *ngIf="isProposalFormGroup.valid">
                                                        <div class="table-responsive">
                                                            <table class="table table-striped table-bordered table-hover"
                                                                   datatable [dtOptions]="dtOptions"
                                                                   [dtTrigger]="dtTrigger">
                                                                <thead>
                                                                <tr>
                                                                    <th>Names</th>
                                                                    <th>Email Address</th>
                                                                    <th>Phone Number</th>
                                                                    <th></th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr *ngFor="let r of dataSaveResourcesRequiredList; let i=index">
                                                                    <td>{{r.stakeHolderName}}</td>
                                                                    <td>{{r.stakeHolderEmail}}</td>
                                                                    <td>{{r.stakeHolderPhone}}</td>
                                                                    <td>
                                                                        <button (click)="removeDataResource(i)"
                                                                                type="button"
                                                                                class="btn btn-warning btn-sm">
                                                <span class=""
                                                      aria-hidden="true">Remove</span>
                                                                        </button>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>

                                                </div>

                                                <!--                                                <div class="row col-12">-->
                                                <!--                                                    <label><b> Interested Departments</b></label>-->
                                                <!--                                                    <br>-->
                                                <!--                                                    <ng-multiselect-dropdown style="width: inherit"-->
                                                <!--                                                            [placeholder]="'Select Interested Departments'"-->
                                                <!--                                                            [settings]="dropdownSettings"-->
                                                <!--                                                            [data]="dropdownList"-->
                                                <!--                                                            [(ngModel)]="selectedItems"-->

                                                <!--                                                                             name="departmentData"-->
                                                <!--                                                    >-->
                                                <!--                                                    </ng-multiselect-dropdown>-->
                                                <!--                                                </div>-->
                                                <!--                                                <div class="row col-12">-->
                                                <!--                                                </div>-->

                                            </div>
                                            <!--                                            <div class="modal-footer">-->
                                            <!--                                                <button type="button" class="btn btn-secondary" #closeModalB-->
                                            <!--                                                        (click)="hideModelB()" data-dismiss="modal">Close-->
                                            <!--                                                </button>-->
                                            <!--                                                <button class="btn btn-primary"-->
                                            <!--                                                        (click)="sendToDepartment(editFormB.value, publicReviewDraftsB?.id)"-->
                                            <!--                                                        type="submit">SUBMIT-->
                                            <!--                                                </button>-->
                                            <!--                                            </div>-->
                                        </form>
                                        <div class="row col-12 float-right modal-footer"
                                             *ngIf="isProposalFormGroup.valid">
                                            <button class="btn btn-sm btn-info float-right"
                                                    (click)="onClickSaveProposal()" type="button">Submit
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal fade " id="editPublicReviewDraft" tabindex="-1" role="dialog"
                                 aria-labelledby="editPublicReviewDraftModalLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog modal-lg modal-xl" role="document" style="width: 100%">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="editPublicReviewDraftModalLabel">Edit Public
                                                Review
                                                Draft</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row col-12">
                                                <div class="form-group col-12">

                                                    <form (ngSubmit)="uploadPublicReviewDraft()"
                                                          [formGroup]="editedPublicReview_draftFormGroup" class="form">
                                                        <div class="form-group">
                                                            <label for="pdName">KS Number</label>
                                                            <input type="text" class="form-control" id="ksNo"
                                                                   ngModel="{{publicReviewDraftsB?.ks_NUMBER}}"
                                                                   required formControlName="ksNumber" name="ksNumber">

                                                        </div>
                                                        <div class="form-group">
                                                            <label for="pdName">Edited Public Review Draft Name</label>
                                                            <input type="text" class="form-control" id="pdName"
                                                                   required formControlName="prdName" name="prdName">

                                                        </div>
                                                    </form>
                                                    <label><b>Please Upload The Edited Public Review Draft</b> <a
                                                            href="https://www.w3schools.com/"> (Download Public
                                                        Review
                                                        Draft Template Here)</a></label>

                                                    <form #demoForm="ngForm">
                                                        <file-upload [(ngModel)]="uploadedFiles"
                                                                     name="uploadedFiles" fileslimit="1"
                                                                     required
                                                                     accept=".pdf"></file-upload>
                                                        <input class="form-control one-column-input"
                                                               ngModel="EACGazette"
                                                               name="DocDescription" type="hidden">
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" #closeModalC
                                                    (click)="hideModelC()" data-dismiss="modal">Close
                                            </button>
                                            <button class="btn btn-primary" (click)="uploadPublicReviewDraft()"
                                                    type="submit">SUBMIT
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

