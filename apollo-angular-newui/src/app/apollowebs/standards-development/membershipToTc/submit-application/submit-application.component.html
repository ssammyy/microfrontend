<style xmlns="http://www.w3.org/1999/html">
    .login-button {
        background-color: #0594FF;
        color: #ffffff;
        padding: 10px 35px;
        border: none;
        border-radius: 100px;
        text-align: center;
        margin-bottom: 15px;
    }

    .error-msg {
        color: red;
        display: inline-block;
        position: absolute;
        /* font-size: 10px; */
        font-size: 75%;
        margin-top: 2.604167em;
        top: calc(100% - 1.72916667em);
    }

</style>
<div *ngIf="displayError">
    <!-- <span class="glyphicon glyphicon-remove form-control-feedback fix-error-icon"></span> -->
    <span class="sr-only">(error)</span>
    <div class="error-msg">
        {{ errorMsg }}
    </div>
</div>

<div class="container-fluid" style="margin-top: 5%">
    <form #formDirective="ngForm" (ngSubmit)="saveApplication(formDirective)" [formGroup]="applicationToATcFormGroup"
          class="form">

        <h1 style="color: #0A95FC">
            Application For TC Membership
        </h1>
        <hr>


        <div class="form-body">
            <div class="form-group">
                <label><b>Technical Committee (TC) Name : (Select one from the dropdown list)</b></label>

                <mat-form-field>
                    <mat-select formControlName="tcId" placeholder="Technical Committee" #singleSelect>
                        <mat-option>
                            <ngx-mat-select-search [formControl]="websiteFilterCtrl"
                                                   placeholderLabel="Search"
                                                   noEntriesFoundLabel="'No matching TC found'"
                            ></ngx-mat-select-search>
                        </mat-option>

                        <mat-option *ngFor="let tc of filteredTcs | async" [value]="tc.id">
                            {{tc.tc_Title}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="form-group">
                <label><b>Please select where your Organization/entity falls in the classification:</b></label>
                <mat-form-field>

                    <mat-select aria-label="Small" aria-describedby="inputGroup-sizing-lg"
                                class="form-control" required
                                formControlName="organisationClassification"
                                name="organisationClassification"
                                placeholder="Select Organization/entity"
                                [class.is-invalid]="formStdApplicationToATc.organisationClassification.invalid && formStdApplicationToATc.organisationClassification.touched">
                        <mat-option value="Government Body/Regulatory Authority">01-Government Body/Regulatory
                            Authority
                        </mat-option>
                        <mat-option value="Manufacturer, Producer or Service provider">02-Manufacturer, Producer or
                            Service provider
                        </mat-option>
                        <mat-option value="Major corporate consumer">03-Major corporate consumer</mat-option>
                        <mat-option value="University, Research and other Technical Institutions">04-University,
                            Research and other Technical Institutions
                        </mat-option>
                        <mat-option value="Industry Association">05-Industry Association</mat-option>
                        <mat-option value="Trade Association">06-Trade Association</mat-option>
                        <mat-option value="Professional Body">07-Professional Body</mat-option>
                        <mat-option value="Consumer Organization">08-Consumer Organization</mat-option>
                        <mat-option value="Non-Governmental Organization(NGO)">09-Non-Governmental Organization(NGO)
                        </mat-option>
                        <mat-option value="Renown Professionals/experts">10-Renown Professionals/experts</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="form-group">
                <label><b>Organisation Name:</b></label>
                <mat-form-field class="example-full-width has-label"
                                [ngClass]="displayFieldCss(applicationToATcFormGroup, 'organisationName')">
                    <input type="text"
                           matInput
                           id="organisationName"
                           placeholder="Your Organisation's Name Here *"
                           (ngModelChange)="textValidationType($event)"
                           formControlName="organisationName">
                    <app-field-error-display
                            [displayError]="isFieldValid(applicationToATcFormGroup, 'organisationName')"
                            errorMsg="Please Enter Your Organisation's Name">
                    </app-field-error-display>
                </mat-form-field>
            </div>


            <div class="form-group">
                <label><b>Nominee:</b></label>
                <mat-form-field class="example-full-width has-label"
                                [ngClass]="displayFieldCss(applicationToATcFormGroup, 'nomineeName')">
                    <input type="text"
                           matInput
                           id="nomineeName"
                           placeholder="Nominee Names *"
                           (ngModelChange)="textValidationType($event)"
                           formControlName="nomineeName">
                    <app-field-error-display [displayError]="isFieldValid(applicationToATcFormGroup, 'nomineeName')"
                                             errorMsg="Please Enter The Nominee Full Names">
                    </app-field-error-display>
                </mat-form-field>
            </div>

            <div class="form-group">
                <label><b>Position:</b></label>
                <mat-form-field class="example-full-width has-label"
                                [ngClass]="displayFieldCss(applicationToATcFormGroup, 'position')">
                    <input type="text"
                           matInput
                           placeholder="Position Held *"
                           (ngModelChange)="textValidationType($event)"
                           formControlName="position">
                    <app-field-error-display [displayError]="isFieldValid(applicationToATcFormGroup, 'position')"
                                             errorMsg="Please Enter The Position Held">
                    </app-field-error-display>
                </mat-form-field>
            </div>
            <div class="form-group">
                <label><b>Postal Address:</b></label>
                <mat-form-field class="example-full-width has-label"
                                [ngClass]="displayFieldCss(applicationToATcFormGroup, 'postalAddress')">
                    <input type="text"
                           matInput
                           placeholder="Postal Address *"
                           (ngModelChange)="textValidationType($event)"
                           formControlName="postalAddress">
                    <app-field-error-display [displayError]="isFieldValid(applicationToATcFormGroup, 'postalAddress')"
                                             errorMsg="Please Enter Your Postal Address">
                    </app-field-error-display>
                </mat-form-field>
            </div>

            <div class="form-group">
                <label><b>Telephone Number</b></label>
<!--                <ngx-intl-tel-input class="example-full-width" [enablePlaceholder]="true" [searchCountryFlag]="true"-->
<!--                                    [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"-->
<!--                                    [selectFirstCountry]="false"-->
<!--                                    [selectedCountryISO]="CountryISO.Kenya" [maxLength]="15"-->
<!--                                    [phoneValidation]="true"-->
<!--                                    required-->
<!--                                    [numberFormat]="PhoneNumberFormat.National" name="mobileNumber" formControlName="mobileNumber">-->
<!--                </ngx-intl-tel-input>-->
                <mat-error
                        *ngIf="isFormSubmitted && applicationToATcFormGroup.controls['mobileNumber'].errors?.required">
                    Please Enter Your Phone Number
                </mat-error>
            </div>
            <div class="form-group">
                <label><b>Email address:</b></label>
                <mat-form-field class="example-full-width" [ngClass]="{'has-success':validEmailRegister===true}">
                    <input
                            type="email"
                            matInput
                            placeholder="Email Address *"
                            [errorStateMatcher]="matcher"
                            formControlName="email"
                            (ngModelChange)="emailValidationRegister($event)">
                    <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                        Please enter a valid email address
                    </mat-error>
                    <mat-error *ngIf="emailFormControl.hasError('required')">
                        Email is <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-group">
                <label><b>Authorising Person:</b></label>
                <mat-form-field class="example-full-width has-label"
                                [ngClass]="displayFieldCss(applicationToATcFormGroup, 'authorizingPerson')">
                    <input type="text"
                           matInput
                           id="authorizingPerson"
                           placeholder="Enter Authorising Person *"
                           (ngModelChange)="textValidationType($event)"
                           formControlName="authorizingPerson">
                    <app-field-error-display
                            [displayError]="isFieldValid(applicationToATcFormGroup, 'authorizingPerson')"
                            errorMsg="Please Enter Authorising Person">
                    </app-field-error-display>
                </mat-form-field>
            </div>
            <div class="form-group">
                <label><b>Position</b></label>
                <mat-form-field class="example-full-width has-label"
                                [ngClass]="displayFieldCss(applicationToATcFormGroup, 'authorizingPersonPosition')">
                    <input type="text"
                           matInput
                           id="authorizingPersonPosition"
                           placeholder="Enter Position *"
                           (ngModelChange)="textValidationType($event)"
                           formControlName="authorizingPersonPosition">
                    <app-field-error-display
                            [displayError]="isFieldValid(applicationToATcFormGroup, 'authorizingPersonPosition')"
                            errorMsg="Please Enter Position">
                    </app-field-error-display>
                </mat-form-field>
            </div>
            <div class="form-group">
                <label><b>Email address:</b></label>
                <mat-form-field class="example-full-width" [ngClass]="{'has-success':validEmailRegister===true}">
                    <input
                            type="email"
                            matInput
                            placeholder="Email Address *"
                            [errorStateMatcher]="matcher"
                            formControlName="authorizingPersonEmail"
                            name="authorizingPersonEmail"
                            (ngModelChange)="emailValidationRegister($event)">
                    <mat-error
                            *ngIf="emailFormControl.hasError('authorizingPersonEmail') && !emailFormControl.hasError('required')">
                        Please enter a valid email address
                    </mat-error>
                    <mat-error *ngIf="emailFormControl.hasError('required')">
                        Authorizing Person Email is <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-group">
                <label><b>Qualifications and Experience Relevant to the TC Scope ( Attach a CV - Optional )</b></label>
                <mat-form-field class="example-full-width has-label"
                                [ngClass]="displayFieldCss(applicationToATcFormGroup, 'qualification')">
                    <textarea type="text"
                              matInput
                              placeholder="Enter Qualifications and Experience *"
                              (ngModelChange)="textValidationType($event)"
                              formControlName="qualification"></textarea>
                    <app-field-error-display [displayError]="isFieldValid(applicationToATcFormGroup, 'qualification')"
                                             errorMsg="Please Enter Qualifications and Experience Relevant to the TC Scope">
                    </app-field-error-display>
                </mat-form-field>
            </div>
            <div class="form-group">
                <label><b>Attach Your CV :</b></label>
                <form>
                    <file-upload [(ngModel)]="uploadedFiles" style="background: inherit"
                                 name="uploadedFiles" fileslimit="1"
                                 required
                                 accept=".pdf"></file-upload>

                </form>
            </div>

            <div class="form-group">
                <label><b>Statement of Commitment</b></label>
                <div class="form-group">
                    <mat-checkbox aria-labelledby="example-radio-group-label"
                                  class="example-radio-group"
                                  formControlName="terms">
                        <mat-error
                                *ngIf="isFormSubmitted && applicationToATcFormGroup.controls['terms'].errors?.required">
                            Please Confirm
                        </mat-error>
                        I hereby declare that I have been officially nominated to represent (organization)
                        <br> in this Technical Committee and the information contained herein is true.
                    </mat-checkbox>
                </div>
            </div>
            <div class="form-group">

                <re-captcha formControlName="captcha" name="captcha" required></re-captcha>
                <mat-error
                        *ngIf="isFormSubmitted && applicationToATcFormGroup.controls['captcha'].errors?.required">
                    Captcha must be solved
                </mat-error>
                <button class="button-row" (click)="validateCaptcha()">Reset Captcha</button>
            </div>


            <div style="margin: 3em 0 2em 0">
                <button class="login-button" type="submit">SUBMIT NOMINATION FORM</button>

            </div>

            <!--      <div>-->
            <!--        <span>Don't have an account ? </span><span><a routerLink="/register" >Register</a></span>-->
            <!--      </div>-->
            <!--      <div>-->
            <!--        <span>Forgot username/password ? </span><span><a>Reset</a></span>-->
            <!--      </div>-->
        </div>


    </form>
    <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">
        <p style="color: white">Please Wait. </p>
    </ngx-spinner>
</div>
