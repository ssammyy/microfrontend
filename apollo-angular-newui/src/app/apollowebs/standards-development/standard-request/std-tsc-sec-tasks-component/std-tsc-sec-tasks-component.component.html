<div class="container-fluid" style="margin-top: 5%" id="main-container">
    <div class="loading-spinner " *ngIf="loading">
        <ngx-spinner
                bdColor="rgba(51,51,51,0.8)"
                color="#fff"
                size="medium"
                type="ball-scale-multiple">
            <p style="font-size: 20px; color: white">{{loadingText}}</p>
        </ngx-spinner>
    </div>
    <div class="main-content">
        <div class="container-fluid">
            <div class="example-stretched-tabs mat-elevation-z4">

                <ul class=" tabs-container nav nav-pills nav-pills-rose nav-pills-icons justify-content-center "
                    role="tablist" style="border-bottom: 1px solid #ccc;">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" id="prepare-nwi"
                           style="border-right: 1px solid #ccc; "
                           (click)="tabChange('Prepare NWI')" role="tablist">
                            <i class="material-icons"></i> Prepare NWI
                            <span class="badge badge-primary"
                                  style="position: absolute; top: 0; right: 0;">{{secTasks.length}}</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" id="vote-on-nwis" style="border-right: 1px solid #ccc; "
                           (click)="tabChange('Votes On NWIs')" role="tablist">
                            <i class="material-icons"></i>Votes On NWIs
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" id="approved-nwis" style="border-right: 1px solid #ccc; "
                           (click)="tabChange('Approved NWIs')" role="tablist">
                            <i class="material-icons"></i>Approved NWIs
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" id="rejected-nwis" style="border-right: 1px solid #ccc; "
                           (click)="tabChange('Rejected NWIs')" role="tablist">
                            <i class="material-icons"></i>Rejected NWIs
                        </a>
                    </li>

                </ul>

                <div *ngIf="id == 'Prepare NWI'" class="w-100">

                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header card-header-primary card-header-icon">
                                    <div class="card-icon">
                                        <i class="material-icons">assignment</i>
                                    </div>
                                    <h4 class="card-title">Tasks <small class="resolved-pill">{{secTasks.length}}
                                        Tasks</small>
                                    </h4>

                                </div>
                                <div class="card-body">
                                    <div class="toolbar">

                                    </div>


                                    <div class="material-datatables">
                                        <table class="table table-striped table-bordered table-hover" datatable
                                               [dtOptions]="dtOptions" [dtTrigger]="dtTrigger1">
                                            <thead>
                                            <tr>
                                                <th class="task">Request No.</th>
                                                <th class="task">Section</th>
                                                <th class="task">Subject</th>
                                                <th class="task">Requester</th>
                                                <th class="action">Action</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr *ngFor="let secTask of secTasks let i= index; ">

                                                <td>{{secTask.requestNumber}}</td>
                                                <td>{{secTask.departmentName}}</td>
                                                <td>{{secTask.subject}}</td>
                                                <td>{{secTask.name}}</td>

                                                <td>
                                                    <a (click)="onOpenModalTask(secTask,'view')"
                                                       class="btn btn-success tooltips"
                                                       data-placement="top"
                                                       data-original-title="Upload NWI">View</a> <br>

                                                    <a (click)="onOpenModal(secTask,'edit')"
                                                       class="btn btn-info tooltips"
                                                       data-placement="top"
                                                       data-original-title="Upload NWI">Prepare New work Item </a>

                                                </td>

                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div *ngIf="id == 'Votes On NWIs'" class="w-100">
                    <app-votes-on-nwis></app-votes-on-nwis>


                </div>


                <div *ngIf="id == 'Approved NWIs'" class="w-100">
                    <app-approved-nwis></app-approved-nwis>

                </div>

                <div *ngIf="id == 'Rejected NWIs'" class="w-100">
                    <app-rejected-nwis></app-rejected-nwis>

                </div>

                <div class="modal fade" id="viewRequestModal" tabindex="-1" role="dialog"
                     aria-labelledby="viewRequestModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog modal-lg modal-xl" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title"
                                    id="viewRequestModalLabel">{{actionRequest?.name}}</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class=" col-12">
                                        <ul class="list-group">
                                            <li class="list-group-item active">Standard Request Details</li>
                                            <li style="background: lightgray"
                                                class="list-group-item">{{"Organisation: " + actionRequest?.organisationName}}</li>

                                            <li style="background: lightgray"
                                                class="list-group-item">{{"Name: " + actionRequest?.name}}</li>
                                            <li style="background: lightgray"
                                                class="list-group-item">{{"Phone: " + actionRequest?.phone}}</li>
                                            <li style="background: lightgray"
                                                class="list-group-item">{{"Email: " + actionRequest?.email}}</li>
                                            <li style="background: lightgray"
                                                class="list-group-item">{{"Section: " + actionRequest?.departmentName}}</li>
                                            <li style="background: lightgray"
                                                class="list-group-item">{{"Subject: " + actionRequest?.subject}}</li>
                                            <li style="background: lightgray"
                                                class="list-group-item">{{"Description: " + actionRequest?.description}}</li>
                                            <li style="background: lightgray" class="list-group-item">Potential To
                                                Contribute To Economic Efficiency :
                                                <ngb-rating [max]="5"
                                                            *ngIf="actionRequest?.economicEfficiency!=null"
                                                            [(rate)]="actionRequest.economicEfficiency"
                                                            [readonly]="false"></ngb-rating>
                                            </li>
                                            <li style="background: lightgray" class="list-group-item">Potential To
                                                Safeguard Health And Safety :
                                                <ngb-rating [max]="5"
                                                            *ngIf="actionRequest?.healthSafety!=null"
                                                            [(rate)]="actionRequest.healthSafety"
                                                            [readonly]="false"></ngb-rating>
                                            </li>
                                            <li style="background: lightgray" class="list-group-item">Potential To
                                                Preserve The Environment :
                                                <ngb-rating [max]="5"
                                                            *ngIf="actionRequest?.environment!=null"
                                                            [(rate)]="actionRequest.environment"
                                                            [readonly]="false"></ngb-rating>
                                            </li>
                                            <li style="background: lightgray" class="list-group-item">Potential To
                                                Facilitate The Local Exchange Of Products And
                                                Industrial Integration :
                                                <ngb-rating [max]="5"
                                                            *ngIf="actionRequest?.integration!=null"
                                                            [(rate)]="actionRequest.integration"
                                                            [readonly]="false"></ngb-rating>
                                            </li>
                                            <li style="background: lightgray" class="list-group-item">Potential To
                                                Facilitate Access To Export Markets :
                                                <ngb-rating [max]="5"
                                                            *ngIf="actionRequest?.exportMarkets!=null"
                                                            [(rate)]="actionRequest.exportMarkets"
                                                            [readonly]="false"></ngb-rating>
                                            </li>
                                            <li style="background: lightgray"
                                                class="list-group-item">{{"Level Of Standard: " + actionRequest?.levelOfStandard}}</li>

                                            <li style="background: lightgray"
                                                class="list-group-item">Desired
                                                Output: {{actionRequest?.desiredOutput}}</li>
                                            <li style="background: lightgray"
                                                class="list-group-item">Additional Information:

                                            </li>
                                            <li style="background: lightgray">
                                                <div class="material-datatables table-responsive">
                                                    <table class="table table-striped table-bordered table-hover"
                                                           datatable>
                                                        <thead>
                                                        <tr>
                                                            <th class="task">Document Name</th>
                                                            <th class="task">Action</th>

                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr *ngFor="let doc of docs let i= index; ">

                                                            <td>{{doc.name}}</td>
                                                            <td>
                                                                <button class="btn btn-info tooltips"
                                                                        style="width: inherit"
                                                                        (click)="viewPdfFile( doc.id,doc?.name, 'application/pdf')"
                                                                        data-placement="top"
                                                                ><i
                                                                        class="fa fa-eye"></i> View
                                                                </button>
                                                            </td>

                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </li>

                                        </ul>
                                    </div>
                                </div>

                                <br>
                                <div class="row">
                                    <div class=" col-12">
                                        <ul class="list-group">
                                            <li class="list-group-item active">Review Details</li>
                                            <li style="background: lightgray"
                                                class="list-group-item"><b>TC SEC Assigned:</b>{{ actionRequest?.tcSecAssigned}}</li>

                                            <li style="background: lightgray"
                                                class="list-group-item">
                                                <b>Decision: </b>{{actionRequest?.desiredResult}}</li>

                                            <div *ngIf="actionRequest?.reason != null">
                                                <li style="background: lightgray"
                                                    class="list-group-item"><b>Comment: </b>{{actionRequest?.reason}}
                                                </li>
                                            </div>

                                            <li style="background: lightgray"
                                                class="list-group-item"><b>Reviewed
                                                By: </b>{{actionRequest?.reviewedBy}}
                                            </li>
                                            <li style="background: lightgray"
                                                class="list-group-item"><b>Review
                                                Date: </b>{{formatFormDate(actionRequest?.reviewDate)}}
                                            </li>

                                        </ul>
                                    </div>
                                </div>


                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" #closeModalC
                                        (click)="hideModelC()"
                                        data-dismiss="modal">Close
                                </button>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade " id="updateNWIModal" tabindex="-1" role="dialog"
                     aria-labelledby="updateExampleModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog modal-lg modal-xl" role="document" style="width: 100%">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="updateExampleModalLabelB">Proposal for
                                    New Work
                                    Item</h5>
                                <button type="button" class="close" data-dismiss="modal"
                                        aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <form #editForm="ngForm" (ngSubmit)="saveNwi(editForm)" [formGroup]="stdNwiFormGroup">
                                <div class="modal-body">
                                    <div class="row">
                                        <div class="form-group col-6">
                                            <label><b>Name of proposer</b></label>
                                            <input
                                                    aria-describedby="inputGroup-sizing-sm"
                                                    aria-label="Small"
                                                    class="form-control one-column-input" readonly
                                                    ngModel="{{nwiRequest?.name}}"
                                                    value="{{nwiRequest?.name}}"
                                                    name="nameOfProposer"
                                                    formControlName="nameOfProposer"
                                                    type="text">
                                        </div>
                                        <div class="form-group col-6">
                                            <label><b>Organization</b></label>
                                            <input
                                                    aria-describedby="inputGroup-sizing-sm"
                                                    aria-label="Small"
                                                    class="form-control one-column-input"
                                                    readonly
                                                    ngModel="{{nwiRequest?.organisationName}}"
                                                    value="{{nwiRequest?.organisationName}}"
                                                    formControlName="organization"
                                                    name="organization"
                                                    type="text">
                                        </div>
                                    </div>

                                    <div class="row">
                                        <!--                                    <div class="form-group col-6">-->
                                        <!--                                        <label><b>Date of presentation</b></label>-->
                                        <!--                                        <mat-form-field class="example-full-width has-label"-->
                                        <!--                                                        [ngClass]="displayFieldCss(stdNwiFormGroup, 'dateOfPresentation')">-->
                                        <!--                                            <input type="date"-->
                                        <!--                                                   matInput-->
                                        <!--                                                   id="dateOfPresentation"-->
                                        <!--                                                   placeholder="Presentation Date"-->
                                        <!--                                                   formControlName="dateOfPresentation">-->
                                        <!--                                            <app-field-error-display-->
                                        <!--                                                    [displayError]="isFieldValid(stdNwiFormGroup, 'dateOfPresentation')"-->
                                        <!--                                                    errorMsg="Please Enter Presentation Date">-->
                                        <!--                                            </app-field-error-display>-->
                                        <!--                                        </mat-form-field>-->
                                        <!--                                    </div>-->
                                        <div class="form-group col-6">
                                            <label><b>Sector</b></label>
                                            <input
                                                    aria-describedby="inputGroup-sizing-sm"
                                                    aria-label="Small"
                                                    formControlName="nameOfTC"
                                                    class="form-control one-column-input" readonly
                                                    ngModel="{{nwiRequest?.departmentName}}"
                                                    value="{{nwiRequest?.departmentName}}"
                                                    placeholder="" name="nameOfTC"
                                                    type="text">
                                        </div>

                                        <div class="form-group col-6">
                                            <label><b>Reference Number given by
                                                Secretariat</b></label>
                                            <input
                                                    aria-describedby="inputGroup-sizing-sm"
                                                    aria-label="Small"
                                                    class="form-control one-column-input" readonly
                                                    ngModel="{{nwiRequest?.requestNumber}}"
                                                    value="{{nwiRequest?.requestNumber}}"

                                                    formControlName="referenceNumber"
                                                    placeholder="" name="referenceNumber"
                                                    type="text">

                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="form-group col-6">
                                            <label><b>Enter Proposal title:</b></label>
                                            <mat-form-field class="example-full-width has-label"
                                                            [ngClass]="displayFieldCss(stdNwiFormGroup, 'proposalTitle')">
                                                <input type="text"
                                                       matInput
                                                       ngModel="{{nwiRequest?.subject}}"

                                                       id="proposalTitle"
                                                       placeholder="Indicate subject matter of the proposed new standard"
                                                       (ngModelChange)="textValidationType($event)"
                                                       formControlName="proposalTitle">
                                                <app-field-error-display
                                                        [displayError]="isFieldValid(stdNwiFormGroup, 'proposalTitle')"
                                                        errorMsg="Please Enter Proposal Title">
                                                </app-field-error-display>
                                            </mat-form-field>


                                        </div>
                                        <div class="form-group col-6">
                                            <label><b>Scope</b></label>
                                            <mat-form-field class="example-full-width has-label"
                                                            [ngClass]="displayFieldCss(stdNwiFormGroup, 'scope')">
                                            <textarea type="text"
                                                      matInput
                                                      id="scope"
                                                      ngModel="{{nwiRequest?.description}}"

                                                      placeholder="Give a clear indication of the coverage of the proposed new standard"
                                                      (ngModelChange)="textValidationType($event)"
                                                      formControlName="scope"></textarea>
                                                <app-field-error-display
                                                        [displayError]="isFieldValid(stdNwiFormGroup, 'scope')"
                                                        errorMsg="Please Enter Scope">
                                                </app-field-error-display>
                                            </mat-form-field>

                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="form-group col-12">

                                            <label><b>Purpose & application</b><span
                                                    data-toggle="tooltip"
                                                    data-placement="right"
                                                    class="badge badge-success"
                                                    title="The justification information should be based on the following, inter alia:
(i) Importance of economic field
(ii) Degree of economic benefit
(iii) Importance as export item
(iv) Capacity as import substitute
(v) Level of consumer protection
(vi) Availability of reference material indicating whether the proposal is for adoption or adaption of the reference material
(vii) Availability of testing facilities
(viii) Volume of production or operation
(x) Ease of adoption and implementation
(xi) Transfer of technology">i</span></label>
                                            <mat-form-field class="example-full-width has-label"
                                                            [ngClass]="displayFieldCss(stdNwiFormGroup, 'purpose')">
                                            <textarea type="text"
                                                      matInput
                                                      id="purpose"
                                                      placeholder="Give specific aims and reasons for the standard and main interests to benefit from the standard. Mention any relevant problems in the industry or technology."
                                                      (ngModelChange)="textValidationType($event)"
                                                      formControlName="purpose"></textarea>
                                                <app-field-error-display
                                                        [displayError]="isFieldValid(stdNwiFormGroup, 'purpose')"
                                                        errorMsg="Please Enter Purpose">
                                                </app-field-error-display>
                                            </mat-form-field>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <!--                                    <div class="row col-12">-->
                                        <!--                                        <div class="form-group col-12">-->
                                        <!--                                            <label><b>Upload annex for Purpose &-->
                                        <!--                                                application(optional)</b></label>-->
                                        <!--                                            <form #demoForm="ngForm">-->
                                        <!--                                                <file-upload [(ngModel)]="uploadedFiles"-->
                                        <!--                                                             name="uploadedFiles" fileslimit="2"-->
                                        <!--                                                             accept=".pdf, .doc, .docx"></file-upload>-->
                                        <!--                                                <input class="form-control one-column-input"-->
                                        <!--                                                       ngModel="TSCSEC Annex Upload"-->
                                        <!--                                                       name="DocDescription" type="hidden">-->
                                        <!--                                            </form>-->
                                        <!--                                        </div>-->
                                        <!--                                    </div>-->

                                    </div>

                                    <div class="row">
                                        <div class="form-group col-6">
                                            <label><b>Target Date</b></label>
                                            <mat-form-field class="example-full-width has-label"
                                                            [ngClass]="displayFieldCss(stdNwiFormGroup, 'targetDate')">
                                                <input type="date"
                                                       matInput
                                                       id="targetDate"
                                                       placeholder="Target Date"
                                                       [min]="todayDate"
                                                       formControlName="targetDate">
                                                <app-field-error-display
                                                        [displayError]="isFieldValid(stdNwiFormGroup, 'targetDate')"
                                                        errorMsg="Please Enter Target Date">
                                                </app-field-error-display>
                                            </mat-form-field>

                                        </div>
                                        <div class="form-group col-6">
                                            <label><b>Similar Standards/Subject of
                                                Standardization</b></label>
                                            <ng-select style="" placeholder="Please Select an option"
                                                       formControlName="similarStandards"
                                                       id="similarStandards" name="similarStandards">
                                                <ng-option
                                                        *ngFor="let app of loadedStandards"
                                                        [value]="app.standardTitle + app.standardNumber">{{app.standardTitle}} {{app.standardNumber}} </ng-option>
                                            </ng-select>

                                        </div>
                                    </div>
                                    <div class="row">
                                        <!--                                    <div class="row col-12">-->
                                        <!--                                        <div class="form-group col-12">-->
                                        <!--                                            <label><b>Upload All Relevant Documents</b></label>-->
                                        <!--                                            <form #demoForm="ngForm">-->
                                        <!--                                                <file-upload [(ngModel)]="uploadedFilesB"-->
                                        <!--                                                             name="uploadedFilesB"-->
                                        <!--                                                             accept=".pdf, .doc, .docx"></file-upload>-->
                                        <!--                                                <input class="form-control one-column-input"-->
                                        <!--                                                       ngModel="RelevantDocumentsNWI Upload"-->
                                        <!--                                                       name="DocDescription" type="hidden">-->
                                        <!--                                            </form>-->
                                        <!--                                        </div>-->
                                        <!--                                    </div>-->

<!--                                        <div class="form-group col-6" style="display: none">-->
<!--                                            <label><b>Liaison Organization/or interested parties </b></label>-->

<!--                                            <ng-multiselect-dropdown-->
<!--                                                    [placeholder]="'Select Liaison Organization'"-->
<!--                                                    [settings]="dropdownSettings"-->
<!--                                                    [data]="dropdownList"-->
<!--                                                    (onSelect)="onItemSelect($event)"-->
<!--                                                    (onSelectAll)="onSelectAll($event)"-->
<!--                                                    [class.is-invalid]="formStdRequest?.liaisonOrganisationData?.errors?.required-->
<!--                                                 && formStdRequest?.liaisonOrganisationData?.touched"-->
<!--                                                    formControlName="liaisonOrganisationData"-->
<!--                                                    name="liaisonOrganisationData">-->
<!--                                            </ng-multiselect-dropdown>-->
<!--                                            <span *ngIf="formStdRequest?.liaisonOrganisationData?.errors?.required-->
<!--                                        && formStdRequest?.liaisonOrganisationData?.touched"-->
<!--                                                  style="color: red;">Liaison Organization is required </span>-->

<!--                                        </div>-->
                                    </div>
                                    <div class="row">
                                        <div class="row col-12">
                                            <div class="form-group col-12">
                                                <label><b>Upload Any Reference Documents(Optional)</b></label>
                                                <form #demoForm="ngForm">
                                                    <file-upload [(ngModel)]="uploadedFilesC"
                                                                 name="uploadedFilesC"
                                                                 accept=".pdf, .doc, .docx"></file-upload>
                                                    <input class="form-control one-column-input"
                                                           ngModel="ReferenceDocumentsNWI Upload"
                                                           name="DocDescription" type="hidden">
                                                </form>
                                            </div>
                                        </div>
                                    </div>

                                    <!--                                <h5><b>Preparatory Work</b></h5>-->
                                    <!--                                <div class="row">-->
                                    <!--                                    <div class="form-check col-6">-->
                                    <!--                                        <input-->
                                    <!--                                                aria-describedby="inputGroup-sizing-sm"-->
                                    <!--                                                aria-label="Small"-->
                                    <!--                                                class="one-column-input"-->
                                    <!--                                                formControlName="draftAttached" value="0"-->
                                    <!--                                                id="defaultCheck1" type="checkbox">-->
                                    <!--                                        <label class="form-check-label" for="defaultCheck1">-->
                                    <!--                                            A draft is attached-->
                                    <!--                                        </label>-->

                                    <!--                                    </div>-->
                                    <!--                                    <div class="form-check col-6">-->
                                    <!--                                        <input-->
                                    <!--                                                aria-describedby="inputGroup-sizing-sm"-->
                                    <!--                                                aria-label="Small"-->
                                    <!--                                                class=" one-column-input"-->
                                    <!--                                                formControlName="outlineAttached"-->
                                    <!--                                                id="defaultCheck2" type="checkbox">-->
                                    <!--                                        <label class="form-check-label" for="defaultCheck2">-->
                                    <!--                                            An outline is attached-->
                                    <!--                                        </label>-->
                                    <!--                                    </div>-->
                                    <!--                                </div>-->
                                    <!--                                <div class="row">-->
                                    <!--                                    <div class="form-check col-6">-->
                                    <!--                                        <input-->
                                    <!--                                                aria-describedby="inputGroup-sizing-sm"-->
                                    <!--                                                aria-label="Small"-->
                                    <!--                                                class="one-column-input"-->
                                    <!--                                                formControlName="draftOutlineImpossible"-->
                                    <!--                                                id="defaultCheck3" type="checkbox">-->
                                    <!--                                        <label class="form-check-label" for="defaultCheck3">-->
                                    <!--                                            It is not possible to attach either a draft or-->
                                    <!--                                            outline-->
                                    <!--                                        </label>-->
                                    <!--                                    </div>-->
                                    <!--                                    <div class="form-check col-6">-->
                                    <!--                                        <input-->
                                    <!--                                                aria-describedby="inputGroup-sizing-sm"-->
                                    <!--                                                aria-label="Small"-->
                                    <!--                                                class=" one-column-input"-->
                                    <!--                                                formControlName="outlineSentLater"-->
                                    <!--                                                id="defaultCheck4" type="checkbox">-->
                                    <!--                                        <label class="form-check-label" for="defaultCheck4">-->
                                    <!--                                            An outline will be sent later-->
                                    <!--                                        </label>-->
                                    <!--                                    </div>-->

                                    <!--                                </div>-->

                                    <div class="row">
                                        <div class="form-group col-6">
                                            <label><b>Date of Circulation</b></label>
                                            <mat-form-field class="example-full-width has-label"
                                                            [ngClass]="displayFieldCss(stdNwiFormGroup, 'circulationDate')">
                                                <input type="date"
                                                       matInput id="circulationDate"
                                                       placeholder="Circulation Date"
                                                       formControlName="circulationDate">
                                                <app-field-error-display
                                                        [displayError]="isFieldValid(stdNwiFormGroup, 'circulationDate')"
                                                        errorMsg="Please Enter Circulation Date"></app-field-error-display>
                                            </mat-form-field>
                                        </div>
                                        <div class="form-group col-6">
                                            <label><b>Closing Date</b></label>
                                            <mat-form-field class="example-full-width has-label"
                                                            [ngClass]="displayFieldCss(stdNwiFormGroup, 'closingDate')">
                                                <input type="date"
                                                       readonly
                                                       matInput id="closingDate"
                                                       placeholder="Closing Date"
                                                       formControlName="closingDate">
                                                <app-field-error-display
                                                        [displayError]="isFieldValid(stdNwiFormGroup, 'closingDate')"
                                                        errorMsg="Please Enter Closing Date"></app-field-error-display>
                                            </mat-form-field>

                                        </div>
                                    </div>

                                    <br>
                                    <label><b>Attached Information</b></label>
                                    <div class="row" style="background: lightgray">

                                        <div class="material-datatables table-responsive">
                                            <table class="table table-striped table-bordered table-hover"
                                                   datatable
                                                   [dtOptions]="dtOptionsB" [dtTrigger]="dtTrigger4">
                                                <thead>
                                                <tr>
                                                    <th class="task">Document Name</th>
                                                    <th class="task">Action</th>

                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr *ngFor="let doc of docs let i= index; ">

                                                    <td>{{doc.name}}</td>
                                                    <td>
                                                        <button class="btn btn-info tooltips"
                                                                style="width: inherit"
                                                                (click)="viewPdfFile( doc.id,doc?.name, 'application/pdf')"
                                                                data-placement="top"
                                                        ><i
                                                                class="fa fa-eye"></i> View
                                                        </button>
                                                    </td>

                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>


                                    </div>

                                    <div class="form-group">
                                        <input
                                                aria-describedby="inputGroup-sizing-sm"
                                                aria-label="Small"
                                                class="form-control one-column-input" hidden
                                                type="text"
                                                ngModel="{{nwiRequest?.id}}"
                                                formControlName="standardId" value="{{nwiRequest?.id}}">
                                    </div>
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" #closeModal
                                            (click)="hideModel()" data-dismiss="modal">Close
                                    </button>
                                    <button class="btn btn-info tooltips" type="submit">SUBMIT</button>

                                </div>
                            </form>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </div>
</div>
