<style>
    .login-button {
        background-color: #0594FF;
        color: #ffffff;
        padding: 10px 35px;
        border: none;
        border-radius: 100px;
        text-align: center;
        margin-bottom: 15px;
    }
    .error-msg {
        color: red;
        display: inline-block;
        position: absolute;
        top: 34px;
        /* font-size: 10px; */
        font-size: 75%;
        margin-top: 2.604167em;
        top: calc(100% - 1.72916667em);
    }
    .fix-error-icon {
        top: 27px;
    }

</style>
<div *ngIf="displayError" >
    <!-- <span class="glyphicon glyphicon-remove form-control-feedback fix-error-icon"></span> -->
    <span class="sr-only">(error)</span>
    <div class="error-msg">
        {{ errorMsg }}
    </div>
</div>

<div class="container-fluid" style="margin-top: 5%">
    <form (ngSubmit)="saveStandard()" [formGroup]="stdRequestFormGroup" class="form">

        <p>Fill in the form below to request for a standard</p>
        <hr>

        <div class="form-body">
            <div class="form-group">
                <label><b>Enter your Full Names</b></label>
                <mat-form-field class="example-full-width has-label" [ngClass]="displayFieldCss(stdRequestFormGroup, 'name')">
                    <input type="text"
                           matInput
                           id="name"
                           placeholder="Full Names *"
                           (ngModelChange)="textValidationType($event)"
                           formControlName="name">
                    <app-field-error-display [displayError]="isFieldValid(stdRequestFormGroup, 'name')" errorMsg="Please Enter Your Full Names">
                    </app-field-error-display>
                </mat-form-field>
            </div>
            <div class="form-group">
                <label><b>Enter Phone Number</b></label>
                <mat-form-field class="example-full-width has-label" [ngClass]="displayFieldCss(stdRequestFormGroup, 'phone')">
                    <input type="text" name="phone" number="true"
                           matInput
                           id="phone"
                           placeholder="Phone Number *"
                           (ngModelChange)="numberValidationType($event)"
                           formControlName="phone">
                    <app-field-error-display [displayError]="isFieldValid(stdRequestFormGroup, 'phone')" errorMsg="Please Enter Your Phone Number">
                    </app-field-error-display>
                </mat-form-field>
            </div>
            <div class="form-group">
                <label><b>Enter your Email address</b></label>

                <mat-form-field class="example-full-width" [ngClass]="{'has-success':validEmailRegister===true}">
                    <input
                            type="email"
                            matInput
                            placeholder="Email Address *"
                            [errorStateMatcher]="matcher"
                            formControlName="email"
                            (ngModelChange)="emailValidationRegister($event)">
                    <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                        Please enter a valid email address
                    </mat-error>
                    <mat-error *ngIf="emailFormControl.hasError('required')">
                        Email is <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="form-group">
                <label><b>Sector</b></label>
                <select aria-label="Small" aria-describedby="inputGroup-sizing-lg"
                        class="form-control" required
                        formControlName="departmentId"
                        name="departmentId" (change)="onSelectDepartment($event.target.value)"
                        [class.is-invalid]="formStdRequest.departmentId.invalid && formStdRequest.departmentId.touched">
                    <option disabled>--Select Department--</option>
                    <option *ngFor="let department of departments"
                            value="{{department.id}}">{{department.name}}</option>
                </select>
            </div>
            <div class="form-group">
                <label>Technical Committee</label>
                <select aria-label="Small" aria-describedby="inputGroup-sizing-lg"
                        class="form-control" required
                        formControlName="tcId"
                        name="tcId" (change)="onSelectTechnicalCommittee($event.target.value)"
                        [class.is-invalid]="formStdRequest.tcId.invalid && formStdRequest.tcId.touched">
                    <option disabled>--Select committee--</option>
                    <option *ngFor="let committee of technicalCommittees"
                            [value]="committee.id">{{committee.title}}
                    </option>
                </select>
            </div>
            <div class="form-group">
                <label>Product Category</label>
                <select aria-label="Small" aria-describedby="inputGroup-sizing-lg"
                        class="form-control"
                        formControlName="productId"
                        name="productId" (change)="onSelectProductCategory($event.target.value)"
                        [class.is-invalid]="formStdRequest.productId.invalid && formStdRequest.productId.touched">
                    <option disabled>--Select Category--</option>
                    <option *ngFor="let product of products" [value]="product.id">{{product.name}}</option>
                </select>
            </div>
            <div class="form-group">
                <label>Product Sub Category</label>
                <select aria-label="Small" aria-describedby="inputGroup-sizing-lg"
                        class="form-control" required
                        formControlName="productSubCategoryId"
                        name="productSubCategoryId"
                        [class.is-invalid]="formStdRequest.productSubCategoryId.invalid && formStdRequest.productSubCategoryId.touched">
                    <option disabled>--Select Sub Category--</option>
                    <option *ngFor="let productSub of productsSubCategory"
                            [value]="productSub.id">{{productSub.name}}</option>
                </select>
            </div>


            <div style="margin: 3em 0 2em 0">
                <button  class="login-button" type="submit">SUBMIT</button>

            </div>

            <!--      <div>-->
            <!--        <span>Don't have an account ? </span><span><a routerLink="/register" >Register</a></span>-->
            <!--      </div>-->
            <!--      <div>-->
            <!--        <span>Forgot username/password ? </span><span><a>Reset</a></span>-->
            <!--      </div>-->
        </div>


    </form>
    <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">
        <p style="color: white">Please Wait. </p>
    </ngx-spinner>
</div>
