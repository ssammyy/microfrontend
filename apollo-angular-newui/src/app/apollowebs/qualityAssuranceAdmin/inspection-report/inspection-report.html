<div class="container-fluid" style="margin-top: 5%">
    <div class="loading-spinner " *ngIf="loading">
        <ngx-spinner
                bdColor="rgba(51,51,51,0.8)"
                color="#fff"
                size="medium"
                type="ball-scale-multiple">
            <p style="font-size: 20px; color: white">{{loadingText}}</p>
        </ngx-spinner>
    </div>
    <div class="main-content">
        <div class="container-fluid">


            <div class="w-100">

                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header card-header-primary card-header-icon">
                                <div class="card-icon">
                                    <i class="material-icons">assignment</i>
                                </div>
                                <h4 class="card-title">New Inspection Report</h4>
                            </div>
                            <div class="card-body">
                                <div class="toolbar">

                                </div>
                                <div class="material-datatables">
                                    <section class="wizard-section">
                                        <div class="row no-gutters">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="form-wizard">
                                                    <div [ngSwitch]="step">
                                                        <!--1 !-->
                                                        <div *ngSwitchCase="1">
                                                            <h2 style="text-align: center"><b>Step</b> <b> 1</b><b>
                                                                of</b>
                                                                <b> 9</b></h2>
                                                            <div class="row">

                                                                <div class="form-group col-12">

                                                                    <h3>Would You Like To Clone This Inspection Report
                                                                        With A Similar Inspection Report?</h3>

                                                                    <label>Select Inspection Report</label>
                                                                    <mat-select
                                                                            aria-label="Small"
                                                                            aria-describedby="inputGroup-sizing-lg"
                                                                            [(ngModel)]="selectedPermitIdInspectionReport"
                                                                            class="form-control"
                                                                            (selectionChange)="setClonedMethod()"
                                                                            placeholder="Select Inspection Report">

                                                                        <mat-option
                                                                                *ngFor="let inspectionReport of allInspectionReportDetailsToBeCloned"
                                                                                value="{{inspectionReport.permitId}}"
                                                                                class="dropdown-item">Inspection Report
                                                                            For {{inspectionReport.tradeMark}}</mat-option>

                                                                    </mat-select>
                                                                    <div *ngIf="hideCloneButton === true">
                                                                        <button class="btn btn-info float-right"
                                                                                (click)="cloneInspectionReport()">
                                                                            Clone
                                                                        </button>
                                                                    </div>
                                                                    <div>
                                                                    </div>

                                                                </div>
                                                                <div class="form-group col-6">

                                                                </div>

                                                            </div>

                                                            <fieldset class="wizard-fieldset show">

                                                                <form class="form"
                                                                      (ngSubmit)="onClickSaveInspectionReportTechnicalDetails(technicalForm.valid)"
                                                                      [formGroup]="technicalForm"
                                                                      enctype="multipart/form-data">
                                                                    <h2>Technical: Quality Procedures,Standards And
                                                                        Management Systems</h2>

                                                                    <div class="form-body">
                                                                        <div class="form-group">
                                                                            <h4><b>State whether the firm is
                                                                                implementing any management system and
                                                                                Specify the
                                                                                management system being implemented e.g.
                                                                                QMS,FSMS,HACCP</b></h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      id="firmImplementedAnyManagementSystem" matInput
                                                      name="firmImplementedAnyManagementSystem"
                                                      placeholder="Details Of Findings"
                                                      [class.is-invalid]="formTechnicalForm.firmImplementedAnyManagementSystem.invalid && formTechnicalForm.firmImplementedAnyManagementSystem.touched"
                                                      formControlName="firmImplementedAnyManagementSystem"

                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="firmImplementedAnyManagementSystemRemarks"
                                                      id="firmImplementedAnyManagementSystemRemarks" matInput
                                                      placeholder="Remarks"
                                                      [class.is-invalid]="formTechnicalForm.firmImplementedAnyManagementSystemRemarks.invalid && formTechnicalForm.firmImplementedAnyManagementSystemRemarks.touched"
                                                      formControlName="firmImplementedAnyManagementSystemRemarks"

                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h4><b>Indicate the relevant product
                                                                                standards and codes of practice in the
                                                                                firmâ€™s
                                                                                possession</b></h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="indicateRelevantProductStandardCodes" required="required"
                                                      id="indicateRelevantProductStandardCodes" matInput
                                                      placeholder="Details Of Findings"
                                                      [class.is-invalid]="formTechnicalForm.indicateRelevantProductStandardCodes.invalid && formTechnicalForm.indicateRelevantProductStandardCodes.touched"
                                                      formControlName="indicateRelevantProductStandardCodes"

                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="indicateRelevantProductStandardCodesRemarks"
                                                      id="indicateRelevantProductStandardCodesRemarks" matInput
                                                      placeholder="Remarks"
                                                      [class.is-invalid]="formTechnicalForm.indicateRelevantProductStandardCodesRemarks.invalid && formTechnicalForm.indicateRelevantProductStandardCodesRemarks.touched"
                                                      formControlName="indicateRelevantProductStandardCodesRemarks"

                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                    <div *ngIf="technicalForm.valid"
                                                                         class="form-group clearfix">
                                                                        <button type="submit"
                                                                                class="btn btn-sm btn-primary float-right">
                                                                            Next
                                                                        </button>
                                                                    </div>
                                                                    <div *ngIf="!technicalForm.valid"
                                                                         class="form-group clearfix">
                                                                        <button class="form-wizard-next-btn btn-sm float-right"
                                                                                (click)="showNotification('top','right')">
                                                                            Next
                                                                        </button>
                                                                    </div>

                                                                </form>


                                                            </fieldset>
                                                        </div>
                                                        <!--2 !-->

                                                        <div *ngSwitchCase="2">
                                                            <h2 style="text-align: center"><b>Step</b> <b> 2</b><b>
                                                                of</b>
                                                                <b> 9</b></h2>

                                                            <fieldset class="wizard-fieldset show">
                                                                <h2>Inspection And Testing </h2>

                                                                <form class="form"
                                                                      (ngSubmit)="onClickUpdateInspectionReportTechnicalDetails(inspectionDetails.valid)"
                                                                      [formGroup]="inspectionDetails"
                                                                      enctype="multipart/form-data">

                                                                    <div class="form-body">
                                                                        <div class="form-group">
                                                                            <h2><b>Compliance to applicable statutory
                                                                                requirements</b></h2>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      id="complianceApplicableStatutory" matInput
                                                      name="complianceApplicableStatutory"
                                                      placeholder="Details Of Findings"
                                                      formControlName="complianceApplicableStatutory"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="complianceApplicableStatutoryRemarks"
                                                      id="complianceApplicableStatutoryRemarks" matInput
                                                      placeholder="Remarks"
                                                      formControlName="complianceApplicableStatutoryRemarks"

                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h2><b>Plant housekeeping</b></h2>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="plantHouseKeeping" required="required"
                                                      id="plantHouseKeeping" matInput
                                                      placeholder="Details Of Findings"
                                                      formControlName="plantHouseKeeping"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="plantHouseKeepingRemarks"
                                                      id="plantHouseKeepingRemarks" matInput
                                                      placeholder="Remarks"
                                                      formControlName="plantHouseKeepingRemarks"

                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h2><b>Handling of complaints</b></h2>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="handlingComplaints" required="required"
                                                      id="handlingComplaints" matInput
                                                      placeholder="Details Of Findings"
                                                      formControlName="handlingComplaints"

                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="handlingComplaintsRemarks"
                                                      id="handlingComplaintsRemarks" matInput
                                                      placeholder="Remarks"
                                                      formControlName="handlingComplaintsRemarks"

                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h2><b>Quality control personnel competence
                                                                                records
                                                                                (Academic/professional/experience)</b>
                                                                            </h2>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="qualityControlPersonnel" required="required"
                                                      id="qualityControlPersonnel" matInput
                                                      placeholder="Details Of Findings"
                                                      formControlName="qualityControlPersonnel"

                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="qualityControlPersonnelRemarks"
                                                      id="qualityControlPersonnelRemarks" matInput
                                                      placeholder="Remarks"
                                                      formControlName="qualityControlPersonnelRemarks"

                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h2><b>Testing Facility (In-house or
                                                                                external laboratory used)</b></h2>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="testingFacility" required="required"
                                                      id="testingFacility" matInput
                                                      placeholder="Details Of Findings"
                                                      formControlName="testingFacility"

                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="testingFacilityRemarks"
                                                      id="testingFacilityRemarks" matInput
                                                      placeholder="Remarks"
                                                      formControlName="testingFacilityRemarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group clearfix">
                                                                        <button (click)="onClickPrevious()"
                                                                                class="btn btn-sm btn-danger form-wizard-previous-btn">
                                                                            Previous
                                                                        </button>


                                                                        <div *ngIf="inspectionDetails.valid"
                                                                             class="form-group clearfix">
                                                                            <button type="submit"
                                                                                    class="btn btn-sm btn-info float-right">
                                                                                Next
                                                                            </button>
                                                                        </div>
                                                                        <div *ngIf="!inspectionDetails.valid"
                                                                             class="form-group clearfix">
                                                                            <button class="form-wizard-next-btn btn-sm float-right"
                                                                                    (click)="showNotification('top','right')">
                                                                                Next
                                                                            </button>
                                                                        </div>

                                                                    </div>

                                                                </form>
                                                            </fieldset>
                                                        </div>
                                                        <!--3 !-->

                                                        <div *ngSwitchCase="3">
                                                            <h2 style="text-align: center"><b>Step</b> <b> 3</b><b>
                                                                of</b>
                                                                <b> 9</b></h2>

                                                            <fieldset class="wizard-fieldset show">
                                                                <h2>Inspection And Testing </h2>

                                                                <form class="form"
                                                                      (ngSubmit)="onClickUpdateInspectionReportTechnicalDetailsB(inspectionDetailsB.valid)"
                                                                      [formGroup]="inspectionDetailsB"
                                                                      enctype="multipart/form-data">

                                                                    <div class="form-body">
                                                                        <div class="form-group">
                                                                            <h2><b>Equipment
                                                                                calibration/verification</b></h2>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="equipmentCalibration" required="required"
                                                      formControlName="equipmentCalibration" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="equipmentCalibrationRemarks"
                                                      formControlName="equipmentCalibrationRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h2><b>Quality records (Raw materials,
                                                                                in-process and final product)</b></h2>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="qualityRecords" required="required"
                                                      formControlName="qualityRecords" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="qualityRecordsRemarks"
                                                      formControlName="qualityRecordsRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h2><b>Records of nonconforming products at
                                                                                raw materials step, in-process step and
                                                                                final product step</b></h2>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="recordsNonconforming" required="required"
                                                      formControlName="recordsNonconforming" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="recordsNonconformingRemarks"
                                                      formControlName="recordsNonconformingRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h2><b>Product Recall records</b></h2>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="productRecallRecords" required="required"
                                                      formControlName="productRecallRecords" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="productRecallRecordsRemarks"
                                                      formControlName="productRecallRecordsRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>


                                                                    </div>

                                                                    <div class="form-group clearfix">
                                                                        <button (click)="onClickPrevious()"
                                                                                class="btn btn-sm btn-danger form-wizard-previous-btn">
                                                                            Previous
                                                                        </button>

                                                                        <div *ngIf="inspectionDetailsB.valid"
                                                                             class="form-group clearfix">
                                                                            <button type="submit"
                                                                                    class="btn btn-sm btn-info float-right">
                                                                                Next
                                                                            </button>
                                                                        </div>
                                                                        <div *ngIf="!inspectionDetailsB.valid"
                                                                             class="form-group clearfix">
                                                                            <button class="form-wizard-next-btn btn-sm float-right"
                                                                                    (click)="showNotification('top','right')">
                                                                                Next
                                                                            </button>
                                                                        </div>
                                                                    </div>

                                                                </form>
                                                            </fieldset>
                                                        </div>

                                                        <!--4 !-->


                                                        <div *ngSwitchCase="4">
                                                            <h2 style="text-align: center"><b>Step</b> <b> 4</b><b>
                                                                of</b>
                                                                <b> 9</b></h2>

                                                            <fieldset class="wizard-fieldset show">
                                                                <form (ngSubmit)="onClickSaveProductLabelling(productLabelling.valid)"
                                                                      [formGroup]="productLabelling" class="form"
                                                                      enctype="multipart/form-data">
                                                                    <h4><b>Product Labelling And Identification </b>
                                                                    </h4>
                                                                    <div class="row">
                                                                        <div class="col-4">
                                                                            <label><b>Standard Marking/labelling
                                                                                requirements</b></label>
                                                                            <mat-form-field
                                                                                    class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="standardMarking"
                                                      formControlName="standardMarking" matInput
                                                      placeholder="Standard Marking/labelling requirements"
                                                      type="text"></textarea>
                                                                            </mat-form-field>
                                                                        </div>
                                                                        <div class="col-3">
                                                                            <label><b>Details of Findings</b></label>
                                                                            <mat-form-field
                                                                                    class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="findings"
                                                      formControlName="findings" matInput
                                                      placeholder="Details of Findings"
                                                      type="text"></textarea>
                                                                            </mat-form-field>
                                                                        </div>
                                                                        <div class="col-3">
                                                                            <label><b>Status of compliance </b></label>
                                                                            <mat-form-field
                                                                                    class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="statusOfCompliance"
                                                      formControlName="statusOfCompliance" matInput
                                                      placeholder="Status of compliance"
                                                      type="text"></textarea>
                                                                            </mat-form-field>
                                                                        </div>
                                                                        <div>
<span class="input-group-btn">
<button (click)="onClickAddProductLabelling()"
        type="button" class="btn btn-success btn-sm">
<span class="" aria-hidden="true">ADD</span>
</button>
</span>

                                                                            <br><br>
                                                                        </div>
                                                                    </div>
                                                                    <div class="material-datatables">
                                                                        <div class="table-responsive">
                                                                            <table class="table table-striped table-bordered table-hover">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>Standard Marking/labelling
                                                                                        requirements
                                                                                    </th>
                                                                                    <th>Details of Findings</th>
                                                                                    <th>Status of compliance</th>
                                                                                    <th>Action</th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr *ngFor="let r of productLabellingDtos; let i=index">
                                                                                    <td>{{r.standardMarking}}</td>
                                                                                    <td>{{r.findings}}</td>
                                                                                    <td>{{r.statusOfCompliance}}</td>
                                                                                    <td>
                                                                                        <button (click)="removeProductLabelling(i)"
                                                                                                type="button"
                                                                                                class="btn btn-warning btn-sm">
                                                                                        <span class=""
                                                                                              aria-hidden="true">Remove</span>
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                    <div
                                                                            class="form-group clearfix">
                                                                        <button (click)="onClickPrevious()"
                                                                                class="btn btn-sm btn-danger form-wizard-previous-btn">
                                                                            Previous
                                                                        </button>
                                                                    </div>
                                                                    <div *ngIf="productLabellingDtos.length > 0"
                                                                         class="form-group clearfix">
                                                                        <button class="btn btn-sm btn-primary float-right"
                                                                                type="submit">
                                                                            Next
                                                                        </button>
                                                                    </div>

                                                                </form>
                                                            </fieldset>
                                                        </div>

                                                        <!--5 !-->
                                                        <div *ngSwitchCase="5">
                                                            <h2 style="text-align: center"><b>Step</b> <b> 5</b><b>
                                                                of</b>
                                                                <b> 9</b></h2>

                                                            <fieldset class="wizard-fieldset show">
                                                                <h2>STANDARDIZATION MARK SCHEME </h2>
                                                                <form class="form"
                                                                      (ngSubmit)="onClickUpdateStandardizationMarkScheme(standardizationMarkSchemeFormGroup.valid)"
                                                                      [formGroup]="standardizationMarkSchemeFormGroup"
                                                                      enctype="multipart/form-data">

                                                                    <div class="form-body">
                                                                        <div class="form-group">
                                                                            <h4><b>Validity of S-Mark permit(s)</b></h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="validitySmarkPermit" required="required"
                                                      formControlName="validitySmarkPermit" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="validitySmarkPermitRemarks"
                                                      formControlName="validitySmarkPermitRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h4><b>Use of the S-Mark</b></h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="useTheSmark" required="required"
                                                      formControlName="useTheSmark" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="useTheSmarkRemarks"
                                                      formControlName="useTheSmarkRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h4><b>Are there changes affecting product
                                                                                certification? If yes, give
                                                                                details?</b>
                                                                            </h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="changesAffectingProductCertification" required="required"
                                                      formControlName="changesAffectingProductCertification" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="changesAffectingProductCertificationRemarks"
                                                      formControlName="changesAffectingProductCertificationRemarks"
                                                      matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h4><b>Have the changes been communicated to
                                                                                KEBS?)</b></h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="changesBeenCommunicatedKebs" required="required"
                                                      formControlName="changesBeenCommunicatedKebs" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="changesBeenCommunicatedKebsRemarks"
                                                      formControlName="changesBeenCommunicatedKebsRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h4><b>Samples drawn</b></h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="samplesDrawn" required="required"
                                                      formControlName="samplesDrawn" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="samplesDrawnRemarks"
                                                      formControlName="samplesDrawnRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group clearfix">
                                                                        <button (click)="onClickPrevious()"
                                                                                class="btn btn-sm btn-danger form-wizard-previous-btn">
                                                                            Previous
                                                                        </button>

                                                                        <div *ngIf="standardizationMarkSchemeFormGroup.valid"
                                                                             class="form-group clearfix">
                                                                            <button type="submit"
                                                                                    class="btn btn-sm btn-info float-right">
                                                                                Next
                                                                            </button>
                                                                        </div>
                                                                        <div *ngIf="!standardizationMarkSchemeFormGroup.valid"
                                                                             class="form-group clearfix">
                                                                            <button class="form-wizard-next-btn btn-sm float-right"
                                                                                    (click)="showNotification('top','right')">
                                                                                Next
                                                                            </button>
                                                                        </div>
                                                                    </div>

                                                                </form>
                                                            </fieldset>
                                                        </div>

                                                        <!--6 !-->

                                                        <div *ngSwitchCase="6">
                                                            <h2 style="text-align: center"><b>Step</b> <b> 6</b><b>
                                                                of</b>
                                                                <b> 9</b></h2>


                                                            <fieldset class="wizard-fieldset show">
                                                                <form (ngSubmit)="onClickSaveOperationProcess(operationProcessAndControlsDetailsApply.valid)"
                                                                      [formGroup]="operationProcessAndControlsDetailsApply"
                                                                      class="form"
                                                                      enctype="multipart/form-data">
                                                                    <h4><b>ANNEX I: OPERATION PROCESS AND CONTROLS </b>
                                                                    </h4>
                                                                    <div class="row">
                                                                        <div class="col-4">
                                                                            <label><b>Process
                                                                                Flow/Operations</b></label>
                                                                            <mat-form-field
                                                                                    class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="processFlow"
                                                      formControlName="processFlow" matInput
                                                      placeholder="Process Flow/Operations"
                                                      type="text"></textarea>
                                                                            </mat-form-field>
                                                                        </div>
                                                                        <div class="col-3">
                                                                            <label><b>Quality Checks</b></label>
                                                                            <mat-form-field
                                                                                    class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="qualityChecks"
                                                      formControlName="qualityChecks" matInput
                                                      placeholder="Quality Checks"
                                                      type="text"></textarea>
                                                                            </mat-form-field>
                                                                        </div>
                                                                        <div class="col-3">
                                                                            <label><b>Frequency </b></label>
                                                                            <mat-form-field
                                                                                    class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="frequency"
                                                      formControlName="frequency" matInput
                                                      placeholder="Frequency"
                                                      type="text"></textarea>
                                                                            </mat-form-field>
                                                                        </div>
                                                                        <div>

                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-4">
                                                                            <label><b>Quality Checks Records</b></label>
                                                                            <mat-form-field
                                                                                    class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="records"
                                                      formControlName="records" matInput
                                                      placeholder="Quality Checks Records"
                                                      type="text"></textarea>
                                                                            </mat-form-field>
                                                                        </div>
                                                                        <div class="col-3">
                                                                            <label><b>Details of Findings</b></label>
                                                                            <mat-form-field
                                                                                    class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="findings"
                                                      formControlName="findings" matInput
                                                      placeholder="Details of Findings"
                                                      type="text"></textarea>
                                                                            </mat-form-field>
                                                                        </div>
                                                                        <div>
<span class="input-group-btn">
<button (click)="onClickAddOperationProcess()"
        type="button" class="btn btn-success btn-sm">
<span class="" aria-hidden="true">ADD</span>
</button>
</span>

                                                                            <br><br>
                                                                        </div>
                                                                    </div>

                                                                    <div class="material-datatables">
                                                                        <div class="table-responsive">
                                                                            <table class="table table-striped table-bordered table-hover">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>Process Flow/Operations
                                                                                    </th>
                                                                                    <th>Quality Checks</th>
                                                                                    <th>Frequency</th>
                                                                                    <th>Quality Checks Records</th>
                                                                                    <th>Details Of Findings</th>
                                                                                    <th>Action</th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr *ngFor="let r of operationProcessAndControlsDetailsDtos; let i=index">
                                                                                    <td>{{r.processFlow}}</td>
                                                                                    <td>{{r.qualityChecks}}</td>
                                                                                    <td>{{r.frequency}}</td>
                                                                                    <td>{{r.records}}</td>
                                                                                    <td>{{r.findings}}</td>
                                                                                    <td>
                                                                                        <button (click)="removeOperationProcess(i)"
                                                                                                type="button"
                                                                                                class="btn btn-warning btn-sm">
                                                                                        <span class=""
                                                                                              aria-hidden="true">Remove</span>
                                                                                        </button>
                                                                                    </td>
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                    <div
                                                                            class="form-group clearfix">
                                                                        <button (click)="onClickPrevious()"
                                                                                class="btn btn-sm btn-danger form-wizard-previous-btn">
                                                                            Previous
                                                                        </button>
                                                                    </div>
                                                                    <div *ngIf="operationProcessAndControlsDetailsDtos.length > 0"
                                                                         class="form-group clearfix">
                                                                        <button class="btn btn-sm btn-primary float-right"
                                                                                type="submit">
                                                                            Next
                                                                        </button>
                                                                    </div>

                                                                </form>
                                                            </fieldset>
                                                        </div>
                                                        <!--7 !-->

                                                        <div *ngSwitchCase="7">
                                                            <h2 style="text-align: center"><b>Step</b> <b> 7</b><b>
                                                                of</b>
                                                                <b> 9</b></h2>

                                                            <fieldset class="wizard-fieldset show">
                                                                <form class="form"
                                                                      (ngSubmit)="onClickHaccpImplementation(haccpImplementationDetailsApplyFormGroup.valid)"
                                                                      [formGroup]="haccpImplementationDetailsApplyFormGroup"
                                                                      enctype="multipart/form-data">

                                                                    <h4><b>Annex II: IMPLEMENTATION OF ADDITIONAL
                                                                        CONTROLS FOR ALL FOOD, AGRICULTURE AND BEVERAGES
                                                                        FIRMS</b></h4>
                                                                    <div class="form-body">
                                                                        <div class="form-group">
                                                                            <h2><b>Design & facilities-construction and
                                                                                layout of buildings and work
                                                                                space.</b></h2>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      formControlName="designFacilitiesConstructionLayout" matInput
                                                      name="designFacilitiesConstructionLayout"
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="designFacilitiesConstructionLayoutRemarks"
                                                      formControlName="designFacilitiesConstructionLayoutRemarks"
                                                      matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h4><b>Maintenance and sanitation- cleaning
                                                                                programs, pest control systems
                                                                                and waste management.</b></h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="maintenanceSanitationCleaningPrograms" required="required"
                                                      formControlName="maintenanceSanitationCleaningPrograms" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="maintenanceSanitationCleaningProgramsRemarks"
                                                      formControlName="maintenanceSanitationCleaningProgramsRemarks"
                                                      matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h4><b>Personnel hygiene</b></h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="personnelHygiene" required="required"
                                                      formControlName="personnelHygiene" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="personnelHygieneRemarks"
                                                      formControlName="personnelHygieneRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h4><b>Transportation - conveyance & bulk
                                                                                container</b>
                                                                            </h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="transportationConveyance" required="required"
                                                      formControlName="transportationConveyance" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="transportationConveyanceRemarks"
                                                      formControlName="transportationConveyanceRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h4><b>Determination of Critical parameters
                                                                                to assure food safety and evidence of
                                                                                monitoring of the critical
                                                                                parameters.</b></h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="determinationCriticalParameters" required="required"
                                                      formControlName="determinationCriticalParameters" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="determinationCriticalParametersRemarks"
                                                      formControlName="determinationCriticalParametersRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h4><b>Evidence of Corrective Actions for
                                                                                non-compliance</b></h4>

                                                                            <div>
                                                                                <label><b>Details Of
                                                                                    Findings</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="evidenceCorrectiveActions" required="required"
                                                      formControlName="evidenceCorrectiveActions" matInput
                                                      placeholder="Details Of Findings"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                                <label><b>Remarks</b></label>
                                                                                <mat-form-field
                                                                                        class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="evidenceCorrectiveActionsRemarks"
                                                      formControlName="evidenceCorrectiveActionsRemarks" matInput
                                                      placeholder="Remarks"
                                                      type="text"></textarea>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                    </div>


                                                                    <div class="form-group clearfix">
                                                                        <button (click)="onClickPrevious()"
                                                                                class="btn btn-sm btn-danger form-wizard-previous-btn">
                                                                            Previous
                                                                        </button>

                                                                        <div *ngIf="haccpImplementationDetailsApplyFormGroup.valid"
                                                                             class="form-group clearfix">
                                                                            <button type="submit"
                                                                                    class="btn btn-sm btn-info float-right">
                                                                                Next
                                                                            </button>
                                                                        </div>
                                                                        <div *ngIf="!haccpImplementationDetailsApplyFormGroup.valid"
                                                                             class="form-group clearfix">
                                                                            <button class="form-wizard-next-btn btn-sm float-right"
                                                                                    (click)="showNotification('top','right')">
                                                                                Next
                                                                            </button>
                                                                        </div>
                                                                    </div>

                                                                </form>
                                                            </fieldset>
                                                        </div>
                                                        <!--8!-->

                                                        <div *ngSwitchCase="8">
                                                            <h2 style="text-align: center"><b>Step</b> <b> 8</b><b>
                                                                of</b>
                                                                <b> 9</b></h2>

                                                            <fieldset class="wizard-fieldset show">
                                                                <h4><b>FOLLOW UP ON PREVIOUS
                                                                    RECOMMENDATIONS/NONCONFORMITIES</b></h4>
                                                                <form class="form"
                                                                      (ngSubmit)="onClickRecommendationSave(recommendationsFormGroup.valid)"
                                                                      [formGroup]="recommendationsFormGroup"
                                                                      enctype="multipart/form-data">
                                                                    <div class="form-group">
                                                                        <div>
                                                                            <label><b>Follow Up</b></label>
                                                                            <mat-form-field
                                                                                    class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="followUpRecommendation" required="required"
                                                      formControlName="followPreviousRecommendationsNonConformities"

                                                      matInput
                                                      placeholder="Follow Up"
                                                      type="text"></textarea>
                                                                            </mat-form-field>

                                                                        </div>
                                                                    </div>
                                                                    <h4><b>RECOMMENDATIONS</b></h4>
                                                                    <div class="form-group">
                                                                        <div>
                                                                            <label><b>Recommendations</b></label>
                                                                            <mat-form-field
                                                                                    class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="recommendation" required="required"
                                                      formControlName="recommendations"
                                                      matInput
                                                      placeholder="Recommendations"
                                                      type="text"></textarea>
                                                                            </mat-form-field>

                                                                        </div>
                                                                    </div>
                                                                    <h4><b>YOUR COMMENTS</b></h4>
                                                                    <div class="form-group">
                                                                        <div>
                                                                            <label><b>Comments</b></label>
                                                                            <mat-form-field
                                                                                    class="example-full-width">
                                            <textarea rows="5" cols="50"
                                                      name="inspectorComments" required="required"
                                                      formControlName="inspectorComments"
                                                      matInput
                                                      placeholder="Comments"
                                                      type="text"></textarea>
                                                                            </mat-form-field>

                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group clearfix">
                                                                        <button (click)="onClickPrevious()"
                                                                                class="btn btn-sm btn-danger form-wizard-previous-btn">
                                                                            Previous
                                                                        </button>

                                                                        <div *ngIf="haccpImplementationDetailsApplyFormGroup.valid"
                                                                             class="form-group clearfix">
                                                                            <button type="submit"
                                                                                    class="btn btn-sm btn-info float-right">
                                                                                Next
                                                                            </button>
                                                                        </div>
                                                                        <div *ngIf="!haccpImplementationDetailsApplyFormGroup.valid"
                                                                             class="form-group clearfix">
                                                                            <button class="form-wizard-next-btn btn-sm float-right"
                                                                                    (click)="showNotification('top','right')">
                                                                                Next
                                                                            </button>
                                                                        </div>
                                                                    </div>

                                                                </form>

                                                            </fieldset>
                                                        </div>

                                                        <!--9!-->

                                                        <div *ngSwitchCase="9">
                                                            <h2 style="text-align: center"><b>Step</b> <b> 9</b><b>
                                                                of</b>
                                                                <b> 9</b></h2>

                                                            <fieldset class="wizard-fieldset show">
                                                                <form (ngSubmit)="onClickSaveInspectionReportDocs()"
                                                                      class="form"
                                                                      enctype="multipart/form-data">
                                                                    <h3>Upload additional documents if required:<span
                                                                            style="font-size: xx-small; color: red;"></span>
                                                                    </h3>

                                                                    <form #demoForm="ngForm">
                                                                        <file-upload [(ngModel)]="uploadedFiles"
                                                                                     name="files" fileslimit="2"
                                                                                     accept=".pdf, .doc, .docx"></file-upload>
                                                                    </form>
                                                                    <div class="material-datatables">
                                                                        <div class="table-responsive">
                                                                            <table id="datatables"
                                                                                   class="table table-striped table-bordered table-hover">
                                                                                <thead>
                                                                                <tr>
                                                                                    <th>File Name</th>
                                                                                    <th>File Type</th>
                                                                                    <th>Document Description</th>
                                                                                </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                <tr *ngFor="let r of allInspectionReportDetails.inspectionReportDocs; let i=index">
                                                                                    <td>{{r.name}}</td>
                                                                                    <td>{{r.fileType}}</td>
                                                                                    <td>{{r.documentType}}</td>
                                                                                    <!--                    <td><button (click)="removePersonnelDetails(i)"-->
                                                                                    <!--                                type="button" class="btn btn-warning btn-sm">-->
                                                                                    <!--                        <span class="" aria-hidden="true">Remove</span>-->
                                                                                    <!--                    </button></td>-->
                                                                                </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>


                                                                    <button type="submit"
                                                                            class="btn btn-sm btn-danger form-wizard-previous-btn">
                                                                        Save Documents
                                                                    </button>

                                                                </form>
                                                                <br><br><br>

                                                                <div class="form-group clearfix">
                                                                    <button (click)="onClickPrevious()"
                                                                            class="btn btn-sm btn-danger form-wizard-previous-btn">
                                                                        Previous
                                                                    </button>
                                                                    <button class="btn btn-info float-right"
                                                                            (click)="goToInspectionReportPage(allInspectionReportDetails.id.toString())">
                                                                        Finish
                                                                    </button>
                                                                </div>
                                                            </fieldset>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- end of row -->
            </div>


        </div>
    </div>
</div>
