<!DOCTYPE html>
<!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Wed Mar 18 2020 20:03:10 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="5e70fb3a565ebdc05ddb37cf" data-wf-site="5e70fb3a565ebd99c1db37ce"
      xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title>KEBS</title>
    <th:block th:include="fragments/general-form.html:: headerfiles"/>
    <link rel="stylesheet" th:href="@{/css/pageLoad.css}" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" th:href="@{/css/accordion.css}"/>
    <link rel="stylesheet" th:href="@{/assets/bootstrap3/css/bootstrap.css}"/>
    <!--    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap.min.css"/>-->
    <!--    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.4/css/buttons.bootstrap.min.css"/>-->

    <!--    &lt;!&ndash; Font Awesome &ndash;&gt;-->
    <!--    <link href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" rel="stylesheet"/>-->
    <!--    &lt;!&ndash; Google Fonts &ndash;&gt;-->
    <!--    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>-->
    <!--    &lt;!&ndash; MDB &ndash;&gt;-->
    <!--    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/2.2.1/mdb.min.css" rel="stylesheet"/>-->
</head>
<body>
<div id ="spinnerContainer"><div class="spinner"></div></div>
<div class="top-bar" th:replace="fragments/general-form.html :: top-bar"></div>
<div class="section">
    <div class="w-layout-grid main-grid">
        <div class="main-grid-side-navigation" id="w-node-d308c123a20f-c123a20d"
             th:replace="fragments/general-form.html :: side-navigation-bar"></div>
        <div id="w-node-27962c2db181-c676b3e3" class="main-content-div">
            <div class="content-nav" th:replace="fragments/general-form.html :: content-navigation-bar"></div>
            <div class="content-wrap">
                <div class="content-container">
                    <h5 style="font-weight: bold; color: #0082f3; font-size: 14px"><u><span th:text="${permitType?.mark}"></span> Permit</u></h5>
                    <div class="content-block">
                        <div class="content-block-parent" style="flex: 0 75%">

                            <div class="sticky" style="margin-bottom: 30px">
                                <h6 class="h3-blue" style="font-weight: bold; font-size: 16px">Permit Details</h6>
                                <div class="applicant_details_container">
                                    <div class="detail-list application_details">
                                        <ul class="w-list-unstyled">
                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Permit No. </div>
                                                <div class="list-text-accordion" th:text="${permitDetails?.permitNumber}"></div>
                                            </li>
                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Name of firm </div>
                                                <div class="list-text-accordion" th:text="${permitDetails?.firmName}"></div>
                                            </li>

                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Postal address </div>
                                                <div class="list-text-accordion" th:text="${permitDetails?.postalAddress}"></div>
                                            </li>

                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Physical address </div>
                                                <div class="list-text-accordion" th:text="${permitDetails?.physicalAddress}"></div>
                                            </li>

                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Telephone number </div>
                                                <div class="list-text-accordion" th:text="${permitDetails?.telephoneNo}"></div>
                                            </li>
                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Fax No. </div>
                                                <div class="list-text-accordion" th:text="${permitDetails?.faxNo}"></div>
                                            </li>
                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Email address </div>
                                                <div class="list-text-accordion" th:text="${permitDetails?.email}"></div>
                                            </li>
                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Date of Application</div>
                                                <div class="list-text-accordion" th:text="${#dates.format(permitDetails?.createdOn, 'dd/MM/yyyy')}"></div>
                                            </li>
                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Date of Issue</div>
                                                <div class="list-text-accordion" th:text="${#dates.format(permitDetails?.dateOfIssue, 'dd/MM/yyyy')}"></div>
                                            </li>
                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Date of Expiry</div>
                                                <div class="list-text-accordion" th:text="${#dates.format(permitDetails?.dateOfExpiry, 'dd/MM/yyyy')}"></div>
                                            </li>
                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Description of commodity</div>
                                                <div class="list-text-accordion" th:text="${permitDetails?.commodityDescription}"></div>
                                            </li>
                                            <li class="list-item-accordion">
                                                <div class="list-title-accordion">Trade Mark</div>
                                                <div class="list-text-accordion" th:text="${permitDetails?.tradeMark}"></div>
                                            </li>
                                            <li th:if="${permitType?.localForeignStatus == 1}" class="list-item-accordion">
                                                <div class="list-title-accordion">APPLICATION TYPE</div>
                                                <div class="list-text-accordion" th:text="${permitDetails?.permitForeignStatus} ? 'FOREGIN' : 'DOMESTIC'" ></div>
                                            </li>

                                        </ul>
                                    </div>
                                    <div class="application_reports">
                                        <ul class="w-list-unstyled">
<!--                                            <li class="list-item-accordion">-->
<!--                                                <div class="list-title-accordion">Approved By</div>-->
<!--&lt;!&ndash;                                                <div class="list-text-accordion" style="color: #0082f3" th:text="${cdDetails?.assignedStatus} ? ${cdDetails?.assignedInspectionOfficer?.firstName}+ ' ' +${cdDetails?.assignedInspectionOfficer?.lastName} : 'NOT ASSIGNED'"></div>&ndash;&gt;-->
<!--                                                &lt;!&ndash;                                                     th:if="${cdDetails?.assignedStatus == 1}" th:text="${cdDetails?.assignedInspectionOfficer?.firstName}+ ' ' +${cdDetails?.assignedInspectionOfficer?.lastName}"></div>&ndash;&gt;-->
<!--                                                &lt;!&ndash;                                                <div class="list-text-accordion"&ndash;&gt;-->
<!--                                                &lt;!&ndash;                                                     th:if="${cdDetails?.assignedStatus != 1}">&ndash;&gt;-->
<!--                                                &lt;!&ndash;                                                    NOT ASSIGNED&ndash;&gt;-->
<!--                                                &lt;!&ndash;                                                </div>&ndash;&gt;-->
<!--                                            </li>-->
<!--                                            <li class="list-item-accordion">-->
<!--                                                <div class="list-title-accordion">Date of Application</div>-->
<!--                                                <div class="list-text-accordion" th:text="${#dates.format(permitDetails?.createdOn, 'dd/MM/yyyy')}"></div>-->
<!--                                            </li>-->
<!--                                            <li class="list-item-accordion">-->
<!--                                                <div class="list-title-accordion">Date of Issue</div>-->
<!--                                                <div class="list-text-accordion" th:text="${#dates.format(permitDetails?.dateOfIssue, 'dd/MM/yyyy')}"></div>-->
<!--                                            </li>-->
<!--                                            <li class="list-item-accordion">-->
<!--                                                <div class="list-title-accordion">Date of Expiry</div>-->
<!--                                                <div class="list-text-accordion" th:text="${#dates.format(permitDetails?.dateOfExpiry, 'dd/MM/yyyy')}"></div>-->
<!--                                            </li>-->
<!--                                            <li class="list-item-accordion">-->
<!--                                                <div class="list-title-accordion">Summary Page Url</div>-->
<!--                                                <div class="list-text-accordion"><a class="btn btn-primary itemViewBtn"-->
<!--                                                                                    target='_blank'-->
<!--                                                                                    th:href="${cdDetails?.summaryPageURL}">view</a>-->
<!--                                                </div>-->
<!--                                            </li>-->
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <button class="accordion">Product Details</button>
                            <div class="panel">
                                <ul class="w-list-unstyled">
                                    <li class="list-item-accordion">
                                        <div class="list-title-accordion">Product Standard Category</div>
                                        <div class="list-text-accordion" th:text="${standardCategory?.standardCategory}"></div>
                                    </li>
                                    <li class="list-item-accordion">
                                        <div class="list-title-accordion">Broad Product Category</div>
                                        <div class="list-text-accordion" th:text="${broadProductCategory?.category}"></div>
                                    </li>
                                    <li class="list-item-accordion">
                                        <div class="list-title-accordion">Product Category</div>
                                        <div class="list-text-accordion" th:text="${productCategory?.name}"></div>
                                    </li>
                                    <li class="list-item-accordion">
                                        <div class="list-title-accordion">Product</div>
                                        <div class="list-text-accordion" th:text="${product?.name}"></div>
                                    </li>
                                    <li class="list-item-accordion">
                                        <div class="list-title-accordion">Product Sub-Category</div>
                                        <div class="list-text-accordion" th:text="${productSubCategory?.name}"></div>
                                    </li>
                                    <li class="list-item-accordion">
                                        <div class="list-title-accordion">KS Number</div>
                                        <div class="list-text-accordion" th:text="${ksApplicable?.standardNumber}"></div>
                                    </li>
                                    <li class="list-item-accordion">
                                        <div class="list-title-accordion">Title</div>
                                        <div class="list-text-accordion" th:text="${ksApplicable?.standardTitle}"></div>
                                    </li>
                                </ul>
                            </div>


<!--                            <button class="accordion">Item Details</button>-->
<!--                            <div class="panel">-->
<!--                                <div class="row-table ">-->
<!--                                    <table id="example" class="table table-striped table-bordered" style="width:100%">-->
<!--                                        <thead>-->
<!--                                        <tr>-->
<!--                                            <th>Number</th>-->
<!--                                            <th>Description</th>-->
<!--                                            <th>HS Code</th>-->
<!--                                            <th>Quantity</th>-->
<!--                                            <th>Unit Quantity</th>-->
<!--                                            <th>Country Of Origin</th>-->
<!--                                            <th>Inspection Status</th>-->
<!--                                            <th th:if="${cdDetails.localCoi == activeStatus}">Owner Status</th>-->
<!--                                            <th>View</th>-->
<!--                                        </tr>-->
<!--                                        </thead>-->
<!--                                        <tbody>-->
<!--                                        <tr class="list" th:each="itemCD: ${itemsCD}" style="cursor: pointer">-->

<!--                                            <td th:text="${itemCD.itemNo}"></td>-->
<!--                                            <td th:text="${itemCD.itemDescription}"></td>-->
<!--                                            <td th:text="${itemCD.itemHsCode}"></td>-->
<!--                                            <td th:text="${itemCD.quantity}"></td>-->
<!--                                            <td th:text="${itemCD.unitOfQuantity}"></td>-->
<!--                                            <td th:text="${itemCD.countryOfOrgin}"></td>-->
<!--                                            <td style="color: #f30014; font-weight: bold; "-->
<!--                                                th:if="${itemCD?.inspectionNotificationStatus == 1}">YES-->
<!--                                            </td>-->
<!--                                            <td style="color: #20f300; font-weight: bold; "-->
<!--                                                th:unless="${itemCD?.inspectionNotificationStatus == 1}">NO-->
<!--                                            </td>-->
<!--                                            <td style="color: #20f300; font-weight: bold; "-->
<!--                                                th:if="${itemCD?.ownerPin != null and itemCD?.cdDocId?.localCoi == 1}">-->
<!--                                                YES-->
<!--                                            </td>-->
<!--                                            <td style="color: #f30014; font-weight: bold; "-->
<!--                                                th:if="${itemCD?.ownerPin == null and itemCD?.cdDocId?.localCoi == 1}">-->
<!--                                                NO-->
<!--                                            </td>-->
<!--                                            <td><a th:href="@{/api/di/cd-item-details/(cdItemUuid=${itemCD.uuid})}"-->
<!--                                                   class="btn btn-primary itemViewBtn">view</a></td>-->
<!--                                        </tr>-->
<!--                                        </tbody>-->
<!--                                    </table>-->
<!--                                </div>-->
<!--                            </div>-->


                        </div>

                        <div class="filter-block">
                            <div class="filter-block-title">
                                <div class="filter-title">Document Details:</div>
                            </div>
                            <div>
                                <a th:if="${permitType?.st3Status == 1 and permitDetails?.sta3FilledStatus == 1}" target='_blank' th:href="@{/api/qa/view-sta3(permitID=${permitDetails?.id}, userID=${permitDetails?.userId})}" class="filter-link" style="color: white">STA 3</a>
                                <a th:if="${permitType?.st10Status == 1 and permitDetails?.sta10FilledStatus == 1}" target='_blank' th:href="@{/api/qa/view-sta10(permitID=${permitDetails?.id}, userID=${permitDetails?.userId})}" class="filter-link" style="color: white">STA 10</a>
                                <a th:if="${permitDetails?.sendApplication == 1 and permitDetails?.invoiceGenerated == 1}" target='_blank' th:href="@{/api/qa/invoice-details(permitID=${permitDetails?.id})}" class="filter-link" style="color: white">GENERATED INVOICE</a>
                            </div>
                            <div class="filter-block-title">
                                <div class="filter-title">Action:</div>
                            </div>
                            <div>
                                <div sec:authorize="hasAuthority('PERMIT_APPLICATION')">
                                    <a th:if="${permitType?.st3Status == 1 and permitDetails?.sta3FilledStatus == null}"  th:href="@{/api/qa/new-sta3(permitID=${permitDetails?.id})}" class="filter-link" style="color: white">Fill STA 3</a>
                                    <a th:if="${permitType?.st10Status == 1 and permitDetails?.sta10FilledStatus == null}"  th:href="@{/api/qa/new-sta10(permitID=${permitDetails?.id})}" class="filter-link" style="color: white">Fill STA 10</a>
                                    <a th:if="${permitType?.smeDeclarationForm == 1 and permitDetails?.smeFormFilledStatus == null}"  th:href="@{/api/qa/new-sme-declaration(permitID=${permitDetails?.id})}" class="filter-link" style="color: white">Fill SME DECLARATION</a>

                                    <div th:if="${permitType?.st10Status == 1 and permitDetails?.sta10FilledStatus == 1}">
                                        <a th:if="${permitDetails?.sendApplication != 1}"  th:href="@{/api/qa/new-permit-submit(permitID=${permitDetails?.id})}" class="filter-link" style="color: white">SUBMIT APPLICATION</a>
                                    </div>
                                    <div th:if="${permitType?.st3Status == 1 and permitDetails?.sta3FilledStatus == 1}">
                                        <a th:if="${permitDetails?.sendApplication != 1}"  th:href="@{/api/qa/new-permit-submit(permitID=${permitDetails?.id})}" class="filter-link" style="color: white">SUBMIT APPLICATION</a>
                                    </div>

                                </div>

                            </div>

                        </div>

                        <!--                        <div sec:authorize="hasAuthority('DI_OFFICER_CHARGE_READ')" th:if="${userNumber == 0}"class="filter-block">-->
                        <!--                            <div class="filter-block-title">-->
                        <!--                                <div class="filter-title">Actions:</div>-->
                        <!--                            </div>-->
                        <!--                            <div th:if="${session?.docView == 'importerAgent'}">-->
                        <!--                                <a  th:if="${cdDetails?.blacklistApproved != 1}" style="color: white" class="filter-link blacklistApproveBtn">Approve</a>-->
                        <!--                                <a th:if="${cdDetails?.blacklistRejected != 1}" style="font-weight: bold;" class="filter-link bgred blacklistRejectBtn">Reject</a>-->
                        <!--                            </div>-->

                        <!--                            <div th:if="${session?.docView == 'targeting'}">-->
                        <!--                                <a th:if="${cdDetails?.targetApproved != 1}" style="color: white" class="filter-link targetingApproveBtn">Approve</a>-->
                        <!--                                <a th:if="${cdDetails?.targetingRejected != 1}" style="font-weight: bold;" class="filter-link bgred targetingRejectBtn">Reject</a>-->
                        <!--                            </div>-->

                        <!--                            <div th:if="${session?.docView == 'cocDetails'}">-->
                        <!--                                <a th:if="${cdDetails?.assignedStatus != 1}"  style="color: white" class="filter-link assignBtn">Assign Officer</a>-->
                        <!--                                <a th:if="${cdDetails?.assignedStatus == 1}" style="color: white" class="filter-link assignBtn">Re-assign Officer</a>-->
                        <!--                                <a  style="color: white" class="filter-link addRemarksBtn">Add Remarks</a>-->
                        <!--                                <a  style="color: white" class="filter-link approveBtn">Approve</a>-->
                        <!--                                <a th:if="${cdDetails?.rejectedStatus != 1}" style="font-weight: bold;" class="filter-link bgred rejectBtn">Reject</a>-->
                        <!--                                <a th:if="${cdDetails?.targetApproved != 1}" style="font-weight: bold;" class="filter-link bgred targetBtn">Target Inspection</a>-->
                        <!--                                <a  th:if="${cdDetails?.blacklistStatus != 1}" style="font-weight: bold;" class="filter-link bgred blacklistBtn">Blacklist</a>-->
                        <!--                            </div>-->
                        <!--                            <div class="filter-block-title">-->
                        <!--                                <div class="filter-title">Document Details:</div>-->
                        <!--                            </div>-->
                        <!--                            <div>-->
                        <!--                                <a th:href="@{/api/di/documents-view/(doc = 'coc',certBack = 'cocDetails')}" class="filter-link cocBtn">Certificate of compliance</a>-->
                        <!--                                <a th:href="@{/api/di/documents-view/(doc = 'remarks',certBack = 'cocDetails')}" class="filter-link cocBtn">View Remarks</a>-->
                        <!--                                <a th:href="@{/api/di/documents-view/(doc = 'idf',certBack = 'cocDetails')}" class="filter-link cocBtn">IDF Document</a>-->
                        <!--&lt;!&ndash;                                <a th:href="@{/api/di/manifest-view/{certBack}(certBack = 'cocDetailsSupervisor')}" class="filter-link cocBtn">Manifest Document</a>&ndash;&gt;-->
                        <!--                            </div>-->
                        <!--                        </div>-->
                    </div>
                </div>
            </div>


<!--            <div class="CDForm">-->
<!--                <form id="cd-form" name="cd-form" th:action="@{/api/di/cd-save/details(cdUuid=${cdDetails?.uuid})}"-->
<!--                      method="post" th:object="${cdDetails}">-->
<!--                    <div class="modal fade" id="cdModal" tabindex="-1" role="dialog" aria-labelledby="cdModalLabel"-->
<!--                         aria-hidden="true">-->
<!--                        <div class="modal-dialog" role="document">-->
<!--                            <div class="modal-content">-->
<!--                                <div class="modal-header">-->
<!--                                    <h5 style="font-weight: bold; " class="modal-title" id="cdModalLabel"><span-->
<!--                                            id="spanValue">none</span></h5>-->
<!--                                    <button aria-label="Close" class="close" data-dismiss="modal"-->
<!--                                            onClick="refreshPage()" type="button">-->
<!--                                        <span aria-hidden="true">&times;</span>-->
<!--                                    </button>-->
<!--                                </div>-->
<!--                                <div class="modal-body">-->
<!--                                    <div class="form-group">-->
<!--                                        <div id="assignOfficer">-->
<!--                                            <input type="hidden" id="assignedStatus" name="assignedStatus"-->
<!--                                                   th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="assignedDate" name="assignedDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="officer" class="col-form-label">Select Officer:</label>-->
<!--                                            <select id="officer" required class="select-field w-select"-->
<!--                                                    th:field="*{confirmAssignedUserId}">-->
<!--                                                <option value="0">Select one...</option>-->
<!--                                                <option th:each="officer : ${officers}"-->
<!--                                                        th:text="${officer.userId?.firstName} + ' ' + ${officer.userId?.lastName}"-->
<!--                                                        th:name="confirmAssignedUserId"-->
<!--                                                        th:value="${officer.userId?.id}"></option>-->
<!--                                            </select>-->
<!--                                            <label for="assignedRemarks" class="col-form-label">Please write, in detail,-->
<!--                                                your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="assignedRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{assignedRemarks}"></textarea>-->
<!--                                        </div>-->
<!--                                        <div id="manualAssign">-->
<!--                                            <input type="hidden" id="assignedStatus" name="assignedStatus"-->
<!--                                                   th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="assignedDate" name="assignedDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="officer" class="col-form-label">Select Officer:</label>-->
<!--                                            <input type="hidden" id="confirmAssignedUserId" name="confirmAssignedUserId"-->
<!--                                                   th:value="${session.currentUser?.id}">-->
<!--                                            <input type="text" disabled class="form-control" maxlength="256"-->
<!--                                                   name="confirmAssignedUserId" data-name="confirmAssignedUserId"-->
<!--                                                   id="confirmAssignedUserId"-->
<!--                                                   th:value="${session.currentUser?.firstName} +' '+${session.currentUser?.lastName}">-->
<!--                                            &lt;!&ndash;                                            <select id="officer" required class="select-field w-select"&ndash;&gt;-->
<!--                                            &lt;!&ndash;                                                    th:field="*{confirmAssignedUserId}">&ndash;&gt;-->
<!--                                            &lt;!&ndash;                                                <option value="0">Select one...</option>&ndash;&gt;-->
<!--                                            &lt;!&ndash;                                                <option th:each="officer : ${officers}"&ndash;&gt;-->
<!--                                            &lt;!&ndash;                                                        th:text="${officer.userId?.firstName} + ' ' + ${officer.userId?.lastName}"&ndash;&gt;-->
<!--                                            &lt;!&ndash;                                                        th:name="confirmAssignedUserId"&ndash;&gt;-->
<!--                                            &lt;!&ndash;                                                        th:value="${officer.userId?.id}"></option>&ndash;&gt;-->
<!--                                            &lt;!&ndash;                                            </select>&ndash;&gt;-->
<!--                                            <label for="assignedRemarks" class="col-form-label">Please write, in detail,-->
<!--                                                your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="assignedRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{assignedRemarks}"></textarea>-->
<!--                                        </div>-->
<!--                                        <div id="assignPort">-->
<!--                                            &lt;!&ndash;                                            <input type="hidden" id="assignedStatus" name="assignedStatus" th:value="${activeStatus}">&ndash;&gt;-->
<!--                                            &lt;!&ndash;                                            <input type="hidden" id="assignedDate" name="assignedDate" th:value="${currentDate}">&ndash;&gt;-->
<!--                                            <label for="portOfArrival" class="col-form-label">Select Port:</label>-->
<!--                                            <select id="portOfArrival" required class="select-field w-select"-->
<!--                                                    th:field="*{portOfArrival}">-->
<!--                                                <option value="0">Select one...</option>-->
<!--                                                <option th:each="port : ${ports}" th:text="${port?.section}"-->
<!--                                                        th:name="portOfArrival" th:value="${port?.id}"></option>-->
<!--                                            </select>-->
<!--                                            <label for="clusterId" class="col-form-label">Select Cluster:</label>-->
<!--                                            <select id="clusterId" required class="select-field w-select"-->
<!--                                                    th:field="*{clusterId}">-->
<!--                                                &lt;!&ndash;                                                <option value="0">Select one...</option>&ndash;&gt;-->
<!--                                                &lt;!&ndash;                                                <option th:each="cluster : ${clusters}" th:text="${cfsStation?.subSection}" th:name="confirmCfsId" th:value="${cfsStation?.id}"></option>&ndash;&gt;-->
<!--                                            </select>-->
<!--                                            <label for="freightStation" class="col-form-label">Select CFS-->
<!--                                                Stations:</label>-->
<!--                                            <select id="freightStation" required class="select-field w-select"-->
<!--                                                    th:field="*{freightStation}">-->
<!--                                                &lt;!&ndash;                                                <option value="0">Select one...</option>&ndash;&gt;-->
<!--                                                &lt;!&ndash;                                                <option th:each="cfsStation : ${cfsStations}" th:text="${cfsStation?.subSection}" th:name="confirmCfsId" th:value="${cfsStation?.id}"></option>&ndash;&gt;-->
<!--                                            </select>-->
<!--                                            <label for="assignPortRemarks" class="col-form-label">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="assignPortRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{assignPortRemarks}"></textarea>-->
<!--                                        </div>-->
<!--                                        <div id="reassignOfficer">-->
<!--                                            <input type="hidden" id="reassignedStatus" name="reassignedStatus"-->
<!--                                                   th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="reassignedDate" name="reassignedDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="officer2" class="col-form-label">Select Officer:</label>-->
<!--                                            <select id="officer2" required class="select-field w-select"-->
<!--                                                    th:field="*{confirmAssignedUserId}">-->
<!--                                                <option value="0">Select one...</option>-->
<!--                                                <option th:each="officer : ${officers}"-->
<!--                                                        th:text="${officer.userId?.firstName} + ' ' + ${officer.userId?.lastName}"-->
<!--                                                        th:name="confirmAssignedUserId"-->
<!--                                                        th:value="${officer.userId?.id}"></option>-->
<!--                                            </select>-->
<!--                                            <label for="reassignedRemarks" class="col-form-label">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="reassignedRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{reassignedRemarks}"></textarea>-->
<!--                                        </div>-->
<!--                                        <div id="approveConsignment">-->
<!--                                            <input type="hidden" id="approveRejectCdStatus"-->
<!--                                                   name="approveRejectCdStatus" th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="approveRejectCdDate" name="approveRejectCdDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="approveRejectCdStatusType" class="col-form-label">Select-->
<!--                                                Applicable Status:</label>-->
<!--                                            <select id="approveRejectCdStatusType" class="select-field w-select"-->
<!--                                                    th:field="*{confirmCdStatusTypeId}">-->
<!--                                                <option value="0">Select one...</option>-->
<!--                                                <option th:each="statusType : ${CDStatusTypes}"-->
<!--                                                        th:if="${statusType.category == cdStatusTypeApproveCategory}"-->
<!--                                                        th:text="${statusType.typeName}"-->
<!--                                                        th:name="approveRejectCdStatusType"-->
<!--                                                        th:value="${statusType.id}"></option>-->
<!--                                            </select>-->
<!--                                            <label for="approveRejectCdRemarks" class="col-form-label">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="approveRejectCdRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{approveRejectCdRemarks}"></textarea>-->
<!--                                        </div>-->
<!--                                        <div id="sendCoi">-->
<!--                                            <input id="sendCoiStatus" name="sendCoiStatus"-->
<!--                                                   th:value="${activeStatus}" type="hidden">-->
<!--                                            <label class="col-form-label" for="approveRejectCdRemarks">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea class="input-field w-input" cols="65" id="sendCoiRemarks"-->
<!--                                                      name="sendCoiRemarks" required rows="5"-->
<!--                                                      th:field="*{sendCoiRemarks}"></textarea>-->
<!--                                        </div>-->

<!--                                        <div id="rejectConsignment">-->
<!--                                            <input type="hidden" id="approveRejectCdStatus"-->
<!--                                                   name="approveRejectCdStatus" th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="approveRejectCdDate" name="approveRejectCdDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="approveRejectCdStatusType" class="col-form-label">Select-->
<!--                                                Applicable Status:</label>-->
<!--                                            <select id="approveRejectCdStatusType" class="select-field w-select"-->
<!--                                                    th:field="*{confirmCdStatusTypeId}">-->
<!--                                                <option value="0">Select one...</option>-->
<!--                                                <option th:each="statusType : ${CDStatusTypes}"-->
<!--                                                        th:if="${statusType.category == cdStatusTypeRejectCategory}"-->
<!--                                                        th:text="${statusType.typeName}"-->
<!--                                                        th:name="approveRejectCdStatusType"-->
<!--                                                        th:value="${statusType.id}"></option>-->
<!--                                            </select>-->
<!--                                            <label for="approveRejectCdRemarks" class="col-form-label">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="approveRejectCdRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{approveRejectCdRemarks}"></textarea>-->
<!--                                        </div>-->

<!--                                        <div id="consignmentOnHold">-->
<!--                                            <input type="hidden" id="approveRejectCdStatus"-->
<!--                                                   name="approveRejectCdStatus" th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="approveRejectCdDate" name="approveRejectCdDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="approveRejectCdStatusType" class="col-form-label">Select-->
<!--                                                Applicable Status:</label>-->
<!--                                            <select id="approveRejectCdStatusType" class="select-field w-select"-->
<!--                                                    th:field="*{confirmCdStatusTypeId}">-->
<!--                                                <option value="0">Select one...</option>-->
<!--                                                <option th:each="statusType : ${CDStatusTypes}"-->
<!--                                                        th:if="${statusType.category == cdStatusTypeOnHoldCategory}"-->
<!--                                                        th:text="${statusType.typeName}"-->
<!--                                                        th:name="approveRejectCdStatusType"-->
<!--                                                        th:value="${statusType.id}"></option>-->
<!--                                            </select>-->
<!--                                            <label for="approveRejectCdRemarks" class="col-form-label">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="approveRejectCdRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{approveRejectCdRemarks}"></textarea>-->
<!--                                        </div>-->

<!--                                        <div id="consignmentQuery">-->
<!--                                            <input id="approveRejectCdStatus" name="approveRejectCdStatus"-->
<!--                                                   th:value="${activeStatus}" type="hidden">-->
<!--                                            <input id="approveRejectCdDate" name="approveRejectCdDate"-->
<!--                                                   th:value="${currentDate}"-->
<!--                                                   type="hidden">-->
<!--                                            <label class="col-form-label" for="approveRejectCdStatusType">Select-->
<!--                                                Applicable Status:</label>-->
<!--                                            <select class="select-field w-select" id="approveRejectCdStatusType"-->
<!--                                                    th:field="*{confirmCdStatusTypeId}">-->
<!--                                                <option value="0">Select one...</option>-->
<!--                                                <option th:each="statusType : ${CDStatusTypes}"-->
<!--                                                        th:if="${statusType.category == cdStatusTypeQuerydCategory}"-->
<!--                                                        th:name="approveRejectCdStatusType"-->
<!--                                                        th:text="${statusType.typeName}"-->
<!--                                                        th:value="${statusType.id}"></option>-->
<!--                                            </select>-->
<!--                                            <label class="col-form-label" for="approveRejectCdRemarks">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea class="input-field w-input" cols="65" id="approveRejectCdRemarks"-->
<!--                                                      name="name" required rows="5"-->
<!--                                                      th:field="*{approveRejectCdRemarks}"></textarea>-->
<!--                                        </div>-->

<!--                                        <div id="processRejection">-->
<!--                                            <input type="hidden" id="processRejectionStatus"-->
<!--                                                   name="processRejectionStatus" th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="processRejectionDate" name="processRejectionDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="processRejectionRemarks" class="col-form-label">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="processRejectionRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{processRejectionRemarks}"></textarea>-->
<!--                                        </div>-->

<!--                                        <div id="compliant">-->
<!--                                            <input type="hidden" id="compliantStatus" name="compliantStatus"-->
<!--                                                   th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="compliantDate" name="compliantDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="compliantRemarks" class="col-form-label">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="compliantRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{compliantRemarks}"></textarea>-->
<!--                                        </div>-->
<!--                                        <div id="notCompliant">-->
<!--                                            <input type="hidden" id="compliantStatus" name="compliantStatus"-->
<!--                                                   th:value="${inActiveStatus}">-->
<!--                                            <input type="hidden" id="compliantDate" name="compliantDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="compliantRemarks" class="col-form-label">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="compliantRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{compliantRemarks}"></textarea>-->
<!--                                        </div>-->
<!--                                        <div id="generateLocalCoc">-->
<!--                                            <input type="hidden" id="localCocOrCorStatus" name="localCocOrCorStatus"-->
<!--                                                   th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="localCocOrCorDate" name="localCocOrCorDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="localCoi">Select Type</label>-->
<!--                                            <select class="form-control" id="localCoi" name="localCoi"-->
<!--                                                    th:field="*{localCoi}">-->
<!--                                                <option th:text="'Select one.....'" th:value="0"></option>-->
<!--                                                <option th:text="'Local COC'" th:value="0"></option>-->
<!--                                                <option th:text="'Local COI'" th:value="1"></option>-->
<!--                                            </select>-->
<!--                                            <label for="localCocOrCorRemarks" class="col-form-label">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="localCocOrCorRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{localCocOrCorRemarks}"></textarea>-->
<!--                                        </div>-->
<!--                                        <div id="generateLocalCor">-->
<!--                                            <input type="hidden" id="localCocOrCorStatus" name="localCocOrCorStatus"-->
<!--                                                   th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="localCocOrCorDate" name="localCocOrCorDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="localCocOrCorRemarks" class="col-form-label">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="localCocOrCorRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{localCocOrCorRemarks}"></textarea>-->
<!--                                        </div>-->
<!--                                        <div id="blacklistApprove">-->
<!--                                            <input type="hidden" id="blacklistApprovedStatus"-->
<!--                                                   name="blacklistApprovedStatus" th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="blacklistApprovedDate" name="blacklistApprovedDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <label for="blacklistApprovedRemarks" class="col-form-label">Please write,-->
<!--                                                in detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="blacklistApprovedRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{blacklistApprovedRemarks}"></textarea>-->
<!--                                        </div>-->

<!--                                        <div id="blacklist">-->
<!--                                            <input type="hidden" id="blacklistStatus" name="blacklistStatus"-->
<!--                                                   th:value="${activeStatus}">-->
<!--                                            <input type="hidden" id="blacklistDate" name="blacklistDate"-->
<!--                                                   th:value="${currentDate}">-->
<!--                                            <select id="blacklistId" class="select-field w-select"-->
<!--                                                    th:field="*{blacklistId}">-->
<!--                                                <option value="0">Select one...</option>-->
<!--                                                <option th:each="blacklist : ${blacklists}"-->
<!--                                                        th:text="${blacklist.typeName}"-->
<!--                                                        th:name="blacklistId" th:value="${blacklist.id}"></option>-->
<!--                                            </select>-->
<!--                                            <label for="blacklistRemarks" class="col-form-label">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea required name="name" id="blacklistRemarks"-->
<!--                                                      class="input-field w-input" cols="65" rows="5"-->
<!--                                                      th:field="*{blacklistRemarks}"></textarea>-->
<!--                                        </div>-->

<!--                                        <div id="sendDemandNoteTOKWS">-->
<!--                                            <input id="sendDemandNote" name="sendDemandNote" th:value="${activeStatus}"-->
<!--                                                   type="hidden">-->
<!--                                            <label class="col-form-label" for="sendDemandNoteRemarks">Please write, in-->
<!--                                                detail, your feedback for this consignment:</label>-->
<!--                                            <textarea class="input-field w-input" cols="65" id="sendDemandNoteRemarks"-->
<!--                                                      name="name" required rows="5"-->
<!--                                                      th:field="*{sendDemandNoteRemarks}"></textarea>-->
<!--                                        </div>-->

<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="modal-footer">-->
<!--                                    <button class="btn btn-secondary" data-dismiss="modal" onClick="refreshPage()"-->
<!--                                            type="button">Close-->
<!--                                    </button>-->
<!--                                    <input type="submit" id="saveValue" class="btn btn-primary" value="Save"/>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </form>-->
<!--            </div>-->


        </div>
    </div>
</div>
<script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js" type="text/javascript"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script th:src="@{/assets/bootstrap3/js/bootstrap.js}" type="text/javascript"></script>
<script src="../assets/js/webflow.js" type="text/javascript"></script>

<!-- [if lte IE 9]>
<script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
<script th:src="@{/js/spinner.js}" type="text/javascript"></script>

<script>
    document.onreadystatechange = function () {
        showSpinnerOnLoad(document)
    }

    function loadSpinner() {
        showSpinner(document)
    }
</script>
<script>
    var acc = document.getElementsByClassName("accordion");
    // var btn = document.getElementsByClassName("button w-button eBtn");
    var i;

    for (i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function () {
            this.classList.toggle("active");
            this.style.border = "none";
            // this.style.position = "sticky"
            var panel = this.nextElementSibling;
            if (panel.style.maxHeight) {
                panel.style.maxHeight = null;
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
                // panel.style.position = "-webkit-sticky"
                // panel.style.position = "sticky"
            }
        });
    }


</script>
<script>
    $(document).ready(function () {
        var table = $('#example').DataTable({
            lengthChange: false,
            buttons: ['copy', 'excel', 'pdf', 'colvis']
        });

        table.buttons().container()
            .appendTo('#example_wrapper .col-sm-6:eq(0)');
    });
</script>
<script>
    $(document).ready(function () {
        $("#portOfArrival").click(function () {
            let sectionId = $("#portOfArrival").val()
            // console.log(categories.length)
            if (sectionId !== 0) {
                $.ajax({
                    method: "GET",
                    url: `/api/auth/sub-section-l1-list/${sectionId}`,
                    success(response) {
                        console.log(response)
                        var s = ''
                        s += ' <option value="0">Select One...</option>';
                        for (var i = 0; i < response.length; i++) {
                            // response.push('Select one')
                            s += '<option value="' + response[i].id + '">' + response[i].subSection + '</option>';
                        }
                        $("#clusterId").html(s);
                    }
                })
            }

        });

        $("#clusterId").click(function () {
            let subSectionL1Id = $("#clusterId").val()
            // console.log(categories.length)
            if (subSectionL1Id !== 0) {
                $.ajax({
                    method: "GET",
                    url: `/api/auth/sub-section-l2-list/${subSectionL1Id}`,
                    success(response) {
                        console.log(response)
                        let s = '';
                        s += ' <option value="0">Select One...</option>';
                        for (let i = 0; i < response.length; i++) {
                            // response.push('Select one')
                            s += '<option value="' + response[i].id + '">' + response[i].subSection + '</option>';
                        }
                        $("#freightStation").html(s);
                    }
                })
            }

        });
    });
</script>
<script>
    function popUpFunction(eventAction) {
        let arrHead = ['assignOfficer', 'manualAssign', 'sendCoi', 'sendDemandNoteTOKWS', 'assignPort', 'reassignOfficer', 'processRejection', 'approveConsignment', 'rejectConsignment', 'consignmentOnHold', 'consignmentQuery', 'generateLocalCoc', 'generateLocalCor', 'blacklistApprove', 'blacklist', 'compliant', 'notCompliant'];
        let arrHeadSave = ['Assign Officer', 'manualAssign', 'Send COI to KWS', 'Send The Demand Note', 'Assign Port', 'ReAssign Officer', 'Process Rejection', 'Approve Consignment', 'Reject Consignment', 'Add Consignment On-Hold', 'Add Consignment Query', 'Generate Local Coc', 'Generate Local Cor', 'Approve Blacklisting', 'Blacklist', 'Compliant', 'Not Compliant'];

        for (let h = 0; h < arrHead.length; h++) {
            if (eventAction !== arrHead[h]) {
                document.getElementById(arrHead[h]).remove();
            } else {
                if (eventAction === arrHead[h]) {
                    document.getElementById('spanValue').innerHTML = arrHeadSave[h];
                    document.getElementById("saveValue").value = 'Save';
                }
            }
        }

        $('.CDForm #cdModal').modal();
    }

    function refreshPage() {
        window.location.reload();
    }
</script>
</body>
</html>


