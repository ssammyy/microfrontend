<!DOCTYPE html>
<!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Wed Mar 18 2020 20:03:10 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="5e7130c996c4ca37928b351f" data-wf-site="5e70fb3a565ebd99c1db37ce"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>KEBS</title>
    <th:block th:include="fragments/general-form.html:: headerfiles"/>
</head>
<body>
<div class="top-bar" th:replace="fragments/general-form.html :: top-bar">
    <div id ="spinnerContainer"><div class="spinner"></div></div>

</div>
<div class="section">
    <div class="w-layout-grid main-grid">
        <div class="main-grid-side-navigation" id="w-node-d308c123a20f-c123a20d" th:replace="fragments/general-form.html :: side-navigation-bar"></div>
        <div id="w-node-27962c2db181-c676b3e3" class="main-content-div">
            <div class="content-nav" th:replace="fragments/general-form.html :: content-navigation-bar"></div>
            <div class="content-wrap">
                <div class="content-container">
                    <div th:replace="fragments/general-form.html :: alerts-bar"></div>
                    <h1>Payments</h1>
                    <div class="content-block">
                        <div class="content-block-parent" >

                            <div class="row-table ">
                                <table class="table table-striped table-bordered" id="slPaymentsMaster" style="width:100%">
                                    <thead>
                                    <tr>
<<<<<<< HEAD
                                        <th>REF No.</th>
                                        <th>Manufacturer Kra Pin</th>
                                        <th>Payment Date</th>
                                        <th>Payment Amount</th>
                                        <th>Visit Status</th>
=======
                                        <th>Entry No.</th>
                                        <th>KRA PIN</th>
                                        <th>Levy Payable(KES)</th>
                                        <th>Penalties(KES)</th>
                                        <th>Levy Paid(KES)</th>
                                        <th>Total Outstanding(KES)</th>
                                        <th>Details</th>
>>>>>>> 39d2c4dec8ea7a6f90a079def9ac6fc3da52ce49
                                        <!--                                        <th>View</th>-->
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr class="list" th:each="payment, iStat: ${payments}">
<<<<<<< HEAD
                                        <td th:text="${payment?.id}"></td>
                                        <td th:text="${payment?.kraPin}"></td>
                                        <td th:text="${#dates.format(payment?.paymentDate, 'dd/MM/yyyy')}"></td>
                                        <td th:text="${payment?.levyPayable} == null ? 'Pending Payment' : 'Ksh. ' + ${payment?.levyPayable}"></td>
                                        <td th:if="${payment?.visitStatus == 1}" th:text="Visited"></td>
                                        <td th:text="${payment?.visitStatus} == null ? 'Not Visited' : 'Pending Visit'"></td>
<!--                                        <td th:text="${payment?.officerAssigned} == null ? 'Pending Assignment' :  ${payment?.officerAssigned?.lastName}"></td>-->
                                        <!--                                        <td><a class="btn btn-info" th:href="@{/sl/manufacturer(manufacturerId = ${manufacturer.id}, appId=${map.id})}">view</a></td>-->
=======
                                        <td th:text="${payment?.manufacturerEntity}"></td>
                                        <td th:text="${payment?.kraPin}"></td>
                                        <td th:text="${#numbers.formatDecimal(payment?.levyPayable,3,'COMMA',2,'POINT')}"></td>
                                        <td th:text="${#numbers.formatDecimal(payment?.levyPenalties,3,'COMMA',2,'POINT')}"></td>
                                        <td th:text="${#numbers.formatDecimal(payment?.levyPaid,3,'COMMA',2,'POINT')}"></td>
                                        <td th:text="${#numbers.formatDecimal(payment?.netLevyAmount,3,'COMMA',2,'POINT')}"></td>
                                        <td>
                                            <div th:if="${payment?.levyPaid > 0 }">
                                                <a class="btn btn-primary itemViewBtn" th:href="@{/api/sl/view/payment/details(entryNo=${payment?.manufacturerEntity})}">Details</a>
                                            </div>
                                        </td>
>>>>>>> 39d2c4dec8ea7a6f90a079def9ac6fc3da52ce49
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
<<<<<<< HEAD

<!--                            <div class=class="pagenation-block" th:each="pageNumber : ${pageNumbers}"-->
<!--                                 th:if="${totalPages > 0}">-->
<!--                                <a class="button w-button"-->
<!--                                   th:href="@{/sl/payments(whereTo='load_levy_payments', page=1,records=10,appId=199)}"-->
<!--                                   th:text="${pageNumber}">Next</a>-->
<!--                            </div>-->

                            <!--                            <div>-->
                            <!--                                <div class="exemption-application-list customer">-->
                            <!--&lt;!&ndash;                                    <h4>REF No.</h4>&ndash;&gt;-->
                            <!--                                    <h4>Permit Id</h4>-->
                            <!--                                    <h4>Owner</h4>-->
                            <!--                                    <h4>Assignee</h4>-->
                            <!--                                    <h4>Action</h4>-->
                            <!--                                </div>-->
                            <!--                                <a th:each="my_task, iStat: ${tasks}" th:href="@{#}">-->
                            <!--                                    <div class="exemption-application-list customer">-->
                            <!--&lt;!&ndash;                                        <div style="color: black">1</div>&ndash;&gt;-->
                            <!--                                        <td style="color: black" th:text="${my_task.permitId}"></td>-->
                            <!--                                        <td style="color: black" th:text="${my_task.task.owner}"></td>-->
                            <!--                                        <td style="color: black" th:text="${my_task.task.assignee}"></td>-->
                            <!--                                    </div>-->
                            <!--                                </a>-->

                            <!--                            </div>-->
                        </div>
                        <div class="filter-block">
=======
>>>>>>> 39d2c4dec8ea7a6f90a079def9ac6fc3da52ce49
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--<script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js" type="text/javascript" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>-->
<script src="https://code.jquery.com/jquery-3.5.1.js" type="text/javascript" ></script>
<script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js" type="text/javascript" ></script>
<script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap.min.js" type="text/javascript" ></script>
<script src="https://cdn.datatables.net/buttons/1.6.4/js/dataTables.buttons.min.js" type="text/javascript" ></script>
<script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.bootstrap.min.js" ></script>
<!-- MDB -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/2.2.1/mdb.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" type="text/javascript" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js" type="text/javascript" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js" type="text/javascript" ></script>
<script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.html5.min.js" type="text/javascript" ></script>
<script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.print.min.js" type="text/javascript" ></script>
<script src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.colVis.min.js" type="text/javascript" ></script>
<script src="../assets/js/webflow.js" type="text/javascript"></script>
<!-- [if lte IE 9]><!--<script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script>--><![endif] -->
<script th:src="@{/js/spinner.js}" type="text/javascript"></script>

<script>
    document.onreadystatechange = function(){
        showSpinnerOnLoad(document)
    }

    function loadSpinner(){
        showSpinner(document)
    }
</script>
<script>
    $(document).ready(function() {
        var table = $('#slPaymentsMaster').DataTable({
            lengthChange: false,
            buttons: ['copy', 'excel', 'pdf', 'colvis']
        });

        table.buttons().container()
            .appendTo('#slPaymentsMaster_wrapper .col-sm-6:eq(0)');
    } );
</script>
<script>
    function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
    }

    function filterFunction() {
        var input, filter, ul, li, a, i;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        div = document.getElementById("myDropdown");
        a = div.getElementsByTagName("a");
        for (i = 0; i < a.length; i++) {
            txtValue = a[i].textContent || a[i].innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                a[i].style.display = "";
            } else {
                a[i].style.display = "none";
            }
        }
    }
</script>
<script>
    // Data Picker Initialization
    $('.datepicker').datepicker();
</script>
</body>
</html>

