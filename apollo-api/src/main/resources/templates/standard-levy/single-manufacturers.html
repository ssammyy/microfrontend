<!DOCTYPE html>
<!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Wed Mar 18 2020 20:03:10 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="5e7111dc08e6f973c676b3e3" data-wf-site="5e70fb3a565ebd99c1db37ce"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title th:text="'KIMS - ' + ${title}"></title>
    <th:block th:include="fragments/general-form.html :: headerfiles"/>
    <link rel="stylesheet" th:href="@{/css/accordion.css}"/>
    <style>
        body{margin-top:20px;
            background:#eee;
        }
        /* PROJECTS */
        .project-people,
        .project-actions {
            text-align: right;
            vertical-align: middle;
        }
        dd.project-people {
            text-align: left;
            margin-top: 5px;
        }
        .project-people img {
            width: 32px;
            height: 32px;
        }
        .project-title a {
            font-size: 14px;
            color: #676a6c;
            font-weight: 600;
        }
        .project-list table tr td {
            border-top: none;
            border-bottom: 1px solid #e7eaec;
            padding: 15px 10px;
            vertical-align: middle;
        }
        .project-manager .tag-list li a {
            font-size: 10px;
            background-color: white;
            padding: 5px 12px;
            color: inherit;
            border-radius: 2px;
            border: 1px solid #e7eaec;
            margin-right: 5px;
            margin-top: 5px;
            display: block;
        }
        .project-files li a {
            font-size: 11px;
            color: #676a6c;
            margin-left: 10px;
            line-height: 22px;
        }

        /* PROFILE */
        .profile-content {
            border-top: none !important;
        }
        .profile-stats {
            margin-right: 10px;
        }
        .profile-image {
            width: 120px;
            float: left;
        }
        .profile-image img {
            width: 96px;
            height: 96px;
        }
        .profile-info {
            margin-left: 120px;
        }
        .feed-activity-list .feed-element {
            border-bottom: 1px solid #e7eaec;
        }
        .feed-element:first-child {
            margin-top: 0;
        }
        .feed-element {
            padding-bottom: 15px;
        }
        .feed-element,
        .feed-element .media {
            margin-top: 15px;
        }
        .feed-element,
        .media-body {
            overflow: hidden;
        }
        .feed-element > .pull-left {
            margin-right: 10px;
        }
        .feed-element img.img-circle,
        .dropdown-messages-box img.img-circle {
            width: 38px;
            height: 38px;
        }
        .feed-element .well {
            border: 1px solid #e7eaec;
            box-shadow: none;
            margin-top: 10px;
            margin-bottom: 5px;
            padding: 10px 20px;
            font-size: 11px;
            line-height: 16px;
        }
        .feed-element .actions {
            margin-top: 10px;
        }
        .feed-element .photos {
            margin: 10px 0;
        }
        .feed-photo {
            max-height: 180px;
            border-radius: 4px;
            overflow: hidden;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        .file-list li {
            padding: 5px 10px;
            font-size: 11px;
            border-radius: 2px;
            border: 1px solid #e7eaec;
            margin-bottom: 5px;
        }
        .file-list li a {
            color: inherit;
        }
        .file-list li a:hover {
            color: #1ab394;
        }
        .user-friends img {
            width: 42px;
            height: 42px;
            margin-bottom: 5px;
            margin-right: 5px;
        }

        .ibox {
            clear: both;
            margin-bottom: 25px;
            margin-top: 0;
            padding: 0;
        }
        .ibox.collapsed .ibox-content {
            display: none;
        }
        .ibox.collapsed .fa.fa-chevron-up:before {
            content: "\f078";
        }
        .ibox.collapsed .fa.fa-chevron-down:before {
            content: "\f077";
        }
        .ibox:after,
        .ibox:before {
            display: table;
        }
        .ibox-title {
            -moz-border-bottom-colors: none;
            -moz-border-left-colors: none;
            -moz-border-right-colors: none;
            -moz-border-top-colors: none;
            background-color: #ffffff;
            border-color: #e7eaec;
            border-image: none;
            border-style: solid solid none;
            border-width: 3px 0 0;
            color: inherit;
            margin-bottom: 0;
            padding: 14px 15px 7px;
            min-height: 48px;
        }
        .ibox-content {
            background-color: #ffffff;
            color: inherit;
            padding: 15px 20px 20px 20px;
            border-color: #e7eaec;
            border-image: none;
            border-style: solid solid none;
            border-width: 1px 0;
        }
        .ibox-footer {
            color: inherit;
            border-top: 1px solid #e7eaec;
            font-size: 90%;
            background: #ffffff;
            padding: 10px 15px;
        }
        ul.notes li,
        ul.tag-list li {
            list-style: none;
        }
    </style>
    <link rel="stylesheet" th:href="@{/assets/bootstrap3/css/bootstrap.css}"/>
</head>
<body>
<div class="top-bar" th:replace="fragments/general-form.html :: top-bar"></div>

<div class="section">
    <div class="w-layout-grid main-grid">
        <div class="main-grid-side-navigation" id="w-node-d308c123a20f-c123a20d" th:replace="fragments/general-form.html :: side-navigation-bar"></div>
        <div id="w-node-27962c2db181-c676b3e3" class="main-content-div">
            <div class="content-nav" th:replace="fragments/general-form.html :: content-navigation-bar"></div>
            <div class="content-wrap">
                <div class="content-container">
                    <div class="content-block" >
                        <div class="content-block-parent">
                            <div class="content-block-child---top">
                                <div class="applicant-details" style="width: 550px">
                                    <div th:replace="fragments/general-form.html :: alerts-bar"></div>
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-md-9">
                                                <div class="wrapper wrapper-content animated fadeInUp">
                                                    <div class="ibox">
                                                        <div class="row">
                                                            <div class="col-lg-5">
                                                                <dl class="dl-horizontal">
                                                                    <dt>Created by:</dt> <dd th:text="${manufacturer?.createdBy}"></dd>
                                                                    <dt>KRA PIN:</dt> <dd th:text="${manufacturer?.kraPin}">  </dd>
                                                                    <dt>Manufacturer Name:</dt> <dd><a href="#" class="text-navy" th:text="${manufacturer?.name}"> </a> </dd>
                                                                    <dt>Business Registration No:</dt> <dd th:text="${manufacturer?.registrationNumber}">      </dd>
                                                                    <br><br>
                                                                </dl>
                                                            </div>
                                                            <div class="col-lg-7" id="cluster_info">
                                                                <dl class="dl-horizontal">

                                                                    <dt>Created On:</dt>
                                                                    <dd th:text="${#dates.format(manufacturer?.createdOn, 'dd/MM/yyyy')}"></dd>
                                                                    <dt>Status:</dt>
                                                                    <dd th:if="${manufacturer.status == 1}" th:text="'Active'">
                                                                    <dd th:if="${manufacturer.status == 0}" th:text="'Inactive'"></dd>
                                                                    <dt>Yearly turnover:</dt>
                                                                    <dd th:text="'KSH.' + ' ' + ${turnover}"></dd>
                                                                </dl>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br>
                                    <button class="accordion" style="flex: 0 50%">Manufacturer Contacts Details</button>
                                    <div class="panel">
                                        <ul  style="width: 500px" class="w-list-unstyled">
                                            <li class="list-item" th:if="${contacts?.contactPerson}">
                                                <div class="list-title" style="color: #0166B1;">ContactPerson</div>
                                                <div class="list-text" th:text="${contacts?.contactPerson}"></div>
                                            </li>
                                            <br>
                                            <li class="list-item" th:if="${contacts?.telephone}">
                                                <div class="list-title" style="color: #0166B1;">Phone Number</div>
                                                <div class="list-text" th:text="${contacts?.telephone}"></div>
                                            </li>
                                            <br>
                                            <li class="list-item" th:if="${manufacturer?.companyEmail}">
                                                <div class="list-title" style="color: #0166B1;">Email Address</div>
                                                <div class="list-text" th:text="${manufacturer?.companyEmail}"></div>
                                            </li>
                                            <br> <li class="list-item" th:if="${manufacturer?.ownership}">
                                                <div class="list-title" style="color: #0166B1;">Company Ownership</div>
                                                <div class="list-text" th:text="${manufacturer?.ownership}"></div>
                                            </li>
                                            <br> <li class="list-item" th:if="${manufacturer?.postalAddress}">
                                                <div class="list-title" style="color: #0166B1;">Postal Address</div>
                                                <div class="list-text" th:text="${manufacturer?.postalAddress}"></div>
                                            </li>
                                            <br> <li class="list-item" th:if="${manufacturer?.closureOfOperations}">
                                                <div class="list-title" style="color: #0166B1;">Closure Of Operations</div>
                                                <div class="list-text" th:text="${manufacturer?.closureOfOperations}"></div>
                                            </li>
                                            <br> <li class="list-item" th:if="${manufacturer?.factoryVisitStatus}">
                                                <div class="list-title" style="color: #0166B1;">Factory Visit Status</div>
                                                <div class="list-text" th:text="${manufacturer?.factoryVisitStatus} == 1 ?'Scheduled': 'Wait To Be Scheduled'"></div>
                                            </li>
                                            <br> <li class="list-item" th:if="${manufacturer?.factoryVisitDate}">
                                                <div class="list-title" style="color: #0166B1;">Factory Visit Date</div>
                                                <div class="list-text" th:text="${manufacturer?.factoryVisitDate}"></div>
                                            </li>
                                            <br> <li class="list-item" th:if="${manufacturer?.directorIdNumber}">
                                                <div class="list-title" style="color: #0166B1;">Director Id Number</div>
                                                <div class="list-text" th:text="${manufacturer?.directorIdNumber}"></div>
                                            </li>
                                            <br> <li class="list-item" th:if="${manufacturer?.description}">
                                                <div class="list-title" style="color: #0166B1;">Description</div>
                                                <div class="list-text" th:text="${manufacturer?.description}"></div>
                                            </li>
                                            <br> <li class="list-item" th:if="${manufacturer?.registrationNumber}">
                                                <div class="list-title" style="color: #0166B1;">Registration Number</div>
                                                <div class="list-text" th:text="${manufacturer?.registrationNumber}"></div>
                                            </li>
                                            <!--
                                             <li class="list-item" th:if="${contacts?.emailAddress}">
                                                <div class="list-title" style="color: #0166B1;">Business Nature</div>
                                                <div class="list-text" th:text="${nature?.name}"></div>
                                            </li>
                                            -->

                                            <br>
                                        </ul>
                                    </div>

                                    <button class="accordion" style="flex: 0 50%">Payment History</button>
                                    <div class="panel">
                                        <div class="row-table ">
                                            <table class="table table-striped">
                                                <thead>
                                                <tr>
                                                    <th>Month</th>
                                                    <th>Levy Paid</th>
                                                    <th>Levy Payable</th>
                                                    <th>Payment Date</th>
                                                    <th>Penalty Payment Date</th>
<!--                                                    <th>View</th>-->
                                                    <!--                                        <th>View</th>-->
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <!--                <a th:each="coc, iStat: ${cocs}" th:href="@{/api/inspection/supervisor/coc-details/{id}(id=${coc.id})}" class="table-row w-inline-block">-->
                                                <tr class="list" style="cursor: pointer" th:each="payment, iStat: ${paymentHistory}">
                                                    <td th:text="${payment?.paymentDate}"></td>
                                                    <td th:if="${payment?.levyPaid} != null" th:text="'Ksh.' + ${payment?.levyPaid}"></td>
                                                    <td th:if="${payment?.levyPaid} == null" th:text="'Not paid'"></td>
                                                    <td th:text="'Ksh.' + ${payment?.levyPayable}"></td>
                                                    <td th:if="${payment?.paymentDate != null}" th:text="${#dates.format(payment?.paymentDate, 'dd/MM/yyyy')}"></td>
                                                    <td th:if="${payment?.paymentDate == null}" th:text="'N/A'"></td>
                                                    <td th:if="${payment?.levyPenaltyPaymentDate != null}" th:text="${#dates.format(payment?.levyPenaltyPaymentDate, 'dd/MM/yyyy')}"></td>
                                                    <td th:if="${payment?.levyPenaltyPaymentDate == null}" th:text="'N/A'"></td>
                                                    <!--                                                    <td><a class="btn btn-info" th:href="@{/sl/manufacturer(manufacturerId = ${manufacturer.id}, appId=${map.id})}">view</a></td>-->
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
<!--                                     Load lab report on Lab user's page -->
                                    <div th:if="${visitReport != null}">
                                        <button class="accordion" style="flex: 0 50%">Factory Visit Report</button>
                                        <div class="panel">
                                            <ul  style="width: 500px" class="w-list-unstyled">
                                                <li class="list-item" th:if="${visitReport?.purpose}">
                                                    <div class="list-title" style="color: #0166B1;">Purpose of visit</div>
                                                    <div class="list-text" th:text="${visitReport?.purpose}"></div>
                                                </li>
                                                <br>
                                                <li class="list-item" th:if="${visitReport?.personMet}">
                                                    <div class="list-title" style="color: #0166B1;">Person met during visit</div>
                                                    <div class="list-text" th:text="${visitReport?.personMet}"></div>
                                                </li>
                                                <br>
                                                <li class="list-item" th:if="${visitReport?.actionTaken}">
                                                    <div class="list-title" style="color: #0166B1;">Action taken</div>
                                                    <div class="list-text" th:text="${visitReport?.actionTaken}"></div>
                                                </li>
                                                <br>
                                                <li class="list-item" th:if="${visitReport?.remarks}">
                                                    <div class="list-title" style="color: #0166B1;">Remarks from the visit</div>
                                                    <div class="list-text" th:text="${visitReport?.remarks}"></div>
                                                </li>
                                                <br>
                                                <li class="list-item" th:if="${visitReport?.officersFeedback}">
                                                    <div class="list-title" style="color: #0166B1;">Officers Feedback</div>
                                                    <div class="list-text" th:text="${visitReport?.officersFeedback}"></div>
                                                </li>
                                                <br>
                                                <li class="list-item">
                                                    <div class="list-title" style="color: #0166B1;">Assistant managers approval</div>
                                                    <div th:text="${visitReport.assistantManagerApproval} == 1 ? 'Approved':'Pending Approval'" class="list-text" ></div>
                                                </li>
                                                <br>
                                                <li class="list-item">
                                                    <div class="list-title" style="color: #0166B1;">Assistant Manager Remarks</div>
                                                    <div th:text="${visitReport.assistanceManagerRemarks}" class="list-text" ></div>
                                                </li>
                                                <br>
                                                <li class="list-item">
                                                    <div class="list-title" style="color: #0166B1;">Chief Manager approval</div>
                                                    <div th:text="${visitReport.managersApproval} == 1 ? 'Approved' : 'Pending Approval' " class="list-text"></div>
                                                </li>
                                                <br>
                                                <div class="my-3 p-3 bg-white rounded shadow-sm">
                                                    <h6 class="border-bottom border-gray pb-2 mb-0"></h6>
                                                    <div class="media text-muted pt-3">
                                                        <svg class="bd-placeholder-img mr-2 rounded" width="32" height="32" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: 32x32"><title>Placeholder</title><rect width="100%" height="100%" fill="#007bff"/><text x="50%" y="50%" fill="#007bff" dy=".3em">32x32</text></svg>
                                                        <p class="media-body pb-3 mb-0 small lh-125 border-bottom border-gray">
                                                            <strong class="d-block text-gray-dark" th:text="'Submitted by' + ' ' + ${visitReport?.createdBy}"></strong>
                                                            <span th:text="'on.' + ${visitReport?.createdOn}"></span>
                                                        </p>
                                                    </div>
                                                    <small class="d-block text-right mt-3">
                                                        <!--  Ass manager approval   -->
                                                        <a sec:authorize="hasAuthority('SL_APPROVE_VISIT_REPORT')" th:href="@{/sl/general-actions(whereTo='assistant_manager_approval', manufacturerId=${manufacturer?.id}, kraId=${visitReport?.id}, approvalStatus = 1)}"
                                                           th:if="${visitReport.assistantManagerApproval != 1}">Approve</a>
                                                        <!--  Manager's approval   -->
                                                        <a sec:authorize="hasAuthority('SL_SECOND_APPROVE_VISIT_REPORT')" th:href="@{/sl/general-actions(whereTo='manager_approval', manufacturerId=${manufacturer?.id}, kraId=${visitReport?.id}, approvalStatus = 1)}"
                                                           th:if="${visitReport.assistantManagerApproval == 1} and ${visitReport.managersApproval != 1}">Approve</a>
                                                    </small>
                                                </div>

                                            </ul>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div>
                            </div>

                        </div>
                        <div class="filter-block">
                            <div class="filter-block-title">
                                <div class="filter-title">Actions</div>
                            </div>
                            <div>

                                <button th:if="${manufacturer.factoryVisitDate == null}" sec:authorize="hasAuthority('SL_MANUFACTURERS_VIEW') and hasAuthority('SL_SCHEDULE_FACTORY_VISIT_MANUFACTURER')" style="width: 270px;" type="button" class="btn btn-info" data-toggle="modal" data-target="#scheduleVisit">Schedule visit</button>
                                <br><br>

                                <button sec:authorize="hasAuthority('SL_MANUFACTURERS_VIEW') and hasAuthority('SL_SCHEDULE_FACTORY_VISIT_MANUFACTURER')" th:if="${manufacturer.factoryVisitDate != null} and ${visitReport} and ${visitReport.managersApproval == 1} and ${visitReport.officersFeedback == null} and ${visitReport.assistantManagerApproval == 1}" style="width: 270px;" type="button" class="btn btn-info" data-toggle="modal" data-target="#draftFeedback">Schedule visit</button>
                                <br><br>

                                <button th:if="${manufacturer.factoryVisitDate != null}" sec:authorize="hasAuthority('SL_MANUFACTURERS_VIEW')" style="width: 270px;" type="button" class="btn btn-primary" data-toggle="modal" data-target="#industryVisitReport">Prepare report</button>
                                <br><br><br>
                                <button th:if="${visitReport?.purpose != null}" sec:authorize="hasAuthority('SL_APPROVE_VISIT_REPORT')" style="width: 270px;" type="button" class="btn btn-primary" data-toggle="modal" data-target="#industryVisitReportApproval">Factory Visit Report Approval</button>

                                <button th:if="${visitReport?.purpose != null}" sec:authorize="hasAuthority('SL_SECOND_APPROVE_VISIT_REPORT')" style="width: 270px;" type="button" class="btn btn-primary" data-toggle="modal" data-target="#industryVisitReportApproval">Factory Visit Report Approval</button>
                                <br><br>
                                <button th:if="${visitReport?.purpose != null}" sec:authorize="hasAuthority('SL_MANUFACTURERS_VIEW')" style="width: 270px;" type="button" class="btn btn-primary" data-toggle="modal" data-target="#industryVisitReportApproval">Draft Feedback</button>
                                <br><br>
                                <button type="button" class="btn btn-primary" style="width: 270px" data-toggle="modal" data-target="#updateManufacturerDetailsModal">
                                    Modify account details
                                </button>


                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="industryVisitReport" tabindex="-1" role="dialog" aria-labelledby="industryVisitReport" aria-hidden="true">
                <form th:action="@{/api/sl/save-visit-report-data(manufacturerId=${manufacturer.id})}" method="post" th:object="${reportData}">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="industryVisitReportLabel">Prepare report</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="purpose">Purpose of Visit</label>
                                    <textarea class="form-control" id="purpose" name="purpose" rows="3" th:name="purpose" ></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="personMet">Person met</label>
                                    <textarea class="form-control" id="personMet" name="personMet" rows="3" th:name="personMet" ></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="actionTaken">Action taken</label>
                                    <textarea class="form-control" id="actionTaken" name="actionTaken" rows="3" th:name="actionTaken"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="remarks">Remarks</label>
                                    <textarea class="form-control" id="remarks" name="remarks" rows="3" th:name="remarks" ></textarea>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Save</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal fade" id="industryVisitReportApproval" tabindex="-1" role="dialog" aria-labelledby="industryVisitReportApproval" aria-hidden="true">
                <form th:action="@{/api/sl/assistance-manager-approval(manufacturerId=${manufacturer.id})}" method="post" th:object="${reportData}">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="industryVisitRepo">Approval With Remarks</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="assistanceManagerRemarks">Assistance Manager Remarks</label>
                                    <textarea class="form-control" id="assistanceManagerRemarks" name="remarks" rows="3" th:name="assistanceManagerRemarks" ></textarea>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Save</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal fade" id="scheduleVisit" tabindex="-1" role="dialog" aria-labelledby="scheduleVisit" aria-hidden="true">
                <form th:action="@{/sl/schedule/{manufacturer}(manufacturer = ${manufacturer.id})}" method="GET">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Schedule visit</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <input type="date" name="scheduleDate" id="scheduleDate" class="form-control">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Schedule</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal fade" id="draftFeedback" tabindex="-1" role="dialog" aria-labelledby="draftFeedback" aria-hidden="true">
                <form th:action="@{/sl/general-actions}" method="post">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Draft Feedback</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="feedback">Feedback</label>
                                    <textarea class="form-control" id="feedback" name="feedback" rows="3">Write your feedback here</textarea>
                                </div>
                                <input type="hidden" name="manufacturerId" th:value="${manufacturer.id}">
                                <input type="hidden" name="kraId" th:value="${payment?.id}">
                                <input type="hidden" name="whereTo" th:value="submit_feedback">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Submit Feedback</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Update Manufacturer Details Modal -->
            <div class="modal fade" id="updateManufacturerDetailsModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <form method="post" th:action="@{/api/sl/update-manufacturer(manufacturerId = ${manufacturer?.id})}" th:object="${manufacturer}">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Update Manufacturer Details</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="postalAddress">Postal Address</label>
                                    <input type="text" class="form-control" id="postalAddress" th:field="*{postalAddress}" placeholder="New Postal Address">
                                </div>
                                <div class="form-group">
                                    <label for="buildingName">Building Name</label>
                                    <input class="form-control" id="buildingName" placeholder="New Building name" th:field="*{buildingName}" type="text">
                                </div>
                                <div class="form-group">
                                    <label for="streetName">Street</label>
                                    <input class="form-control" id="streetName" placeholder="The street name" th:field="*{streetName}" type="text">
                                </div>
                                <div class="form-group">
                                    <label for="county">County</label>
                                    <select class="select-field w-select" id="county" required="" th:field="*{county}">
                                        <option value="">Select One...</option>
                                        <option th:each="i : ${counties}" th:text="${i.county}" th:value="${i.id}"></option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="town">Town</label>
                                    <select class="select-field w-select" id="town" required="" th:field="*{town}">
                                        <option value="">Select One...</option>
                                        <option th:each="i : ${towns}" th:text="${i.town}" th:value="${i.id}"></option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="ownership">Select Ownership type</label>
                                    <select class="form-control" name="ownership" id="ownership" th:field="*{ownership}">
                                        <option th:text="Single_Ownership" th:value="Single_Ownership"></option>
                                        <option th:text="Limited_Company" th:value="Limited_Company"></option>
                                    </select>
                                </div>
                                <small>Declare closure of operations</small>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" th:value="${manufacturer?.closureOfOperations}" th:checked="${manufacturer?.closureOfOperations == 0}" name="closureOfOperations" id="closureOfOperations" th:field="*{closureOfOperations}">
                                    <label class="form-check-label" for="closureOfOperations">
                                        Declare closure of operations
                                    </label>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Update</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

        </div>
    </div>
</div>
<script th:src="@{/js/webflow.js}" type="text/javascript"></script>
<script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js" type="text/javascript" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script th:src="@{/assets/bootstrap3/js/bootstrap.js}" type="text/javascript"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.js"></script>
<script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.0.3.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.28//angular-route.min.js"></script>
<!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
<script type="text/javascript" th:src="@{/js/sdl_js/App.js}"></script>
<script type="text/javascript" th:src="@{/js/sdl_js/Sdl_Service.js}"></script>
<script type="text/javascript" th:src="@{/js/sdl_js/Sdl_Controller.js}"></script>
<script>
    $(document).ready(function(){
        $('#scheduleId').on('click',function (event) {
            $('.myForm #exampleModal').modal();
        });
        $('#generateSchemeOfSupervisionId').on('click',function (event) {
            $('.scheme #schemeModal').modal();
        });
        $('#fillFactoryInspection').on('click',function (event) {
            $('.factoryInspectionForm #factoryInspectionFormModal').modal();
        });

        $('#industryVisitReportApproval').on('click',function (event) {
            $('.factoryInspectionForm #industryVisitReportApproval').modal();
        });
    });

</script>
<script>
    // document.getElementById("firstDateId").onchange = function () {
    //     var input = document.getElementById("schedule");
    var input = document.getElementById("schedule");

    input.setAttribute("min", this.value);
    // }
</script>

<script>
    var acc = document.getElementsByClassName("accordion");
    // var btn = document.getElementsByClassName("button w-button eBtn");
    var i;

    for (i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function() {
            this.classList.toggle("active");
            this.style.border = "none";
            // this.style.position = "sticky"
            var panel = this.nextElementSibling;
            if (panel.style.maxHeight) {
                panel.style.maxHeight = null;
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
                // panel.style.position = "-webkit-sticky"
                // panel.style.position = "sticky"
            }
        });
    }
</script>

<!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
</body>
</html>




