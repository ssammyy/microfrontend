<!DOCTYPE html>
<!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Wed Mar 18 2020 20:03:10 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="5e7130c996c4ca37928b351f" data-wf-site="5e70fb3a565ebd99c1db37ce"
      xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title>KEBS</title>
    <th:block th:include="fragments/general-form.html :: headerfiles"/>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link rel="stylesheet" th:href="@{/css/accordion.css}"/>
    <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" rel="stylesheet">
</head>
<body>
<div class="top-bar" th:replace="fragments/general-form.html :: top-bar"></div>
</div>
<div class="section">
    <div class="w-layout-grid main-grid">
        <div class="main-grid-side-navigation" id="w-node-d308c123a20f-c123a20d"
             th:replace="fragments/general-form.html :: side-navigation-bar"></div>
        <div class="main-content-div" id="w-node-27962c2db181-c676b3e3">
            <div class="content-nav" th:replace="fragments/general-form.html :: content-navigation-bar"></div>
            <div class="content-wrap">
                <div class="content-container">
                    <h5 class="h3-blue" style="color: #0082f3; font-weight: bold; ">PVOC Application Details Page</h5>
                    <div class="content-block">
                        <div class="content-block-parent" style="flex: 0 75%">
                            <div style="margin-bottom: 30px">
                                <h6 class="h3-blue">Manufacturer's Particulars</h6>
                                <form th:action="@{/api/di/pvoc/exceptions-application-approve/{id}(id =${pvoc.id})}" method="post" th:object="${exceptionDetails}" style="width: 80%">
                                    <table class="table table-striped" style="width: 70%">
                                        <thead>
                                        <tr>
                                            <th>Item</th>
                                            <th>Value</th>
                                            <th>Status</th>
                                            <th>Review Status</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>REF Number</td>
                                            <td><input type="text" readonly th:value="${pvoc.id}"></td>
                                            <td></td>
                                            <td>--</td>
                                        </tr>
                                        <tr>
                                            <td>Company Name</td>
                                            <td><input type="text" readonly th:value="${pvoc.conpanyName}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="companyNameStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="companyNameStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.companyNameStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Date of Application</td>
                                            <td><input type="text" readonly th:value="${#dates.format(pvoc.applicationDate, 'dd/MM/yyyy')}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="applicationStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="applicationStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.applicationDateStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Company Pin No</td>
                                            <td><input type="text" readonly th:value="${pvoc.companyPinNo}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="companyPinStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="companyPinStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.companyPinStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Email</td>
                                            <td><input type="text" readonly th:value="${pvoc.email}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="emailStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="emailStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.emailStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Telephone No</td>
                                            <td><input type="text" readonly th:value="${pvoc.telephoneNo}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="telephoneStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="telephoneStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.telephoneStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Postal Address
                                            </td>
                                            <td><input type="text" readonly th:value="${pvoc.postalAadress}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="postalAadressStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="postalAadressStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.postalAadressStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Physical Location</td>
                                            <td><input type="text" readonly th:value="${pvoc.physicalLocation}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="physicalLocationStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="physicalLocationStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.physicalLocationStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Contact Person</td>
                                            <td><input type="text" readonly th:value="${pvoc.contactPersorn}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="contactPersonStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="contactPersonStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.contactPersonStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Address</td>
                                            <td><input type="text" readonly th:value="${pvoc.address}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="addressStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="addressStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.addressStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Exception Category</td>
                                            <td><input type="text" readonly th:value="${pvoc.exceptionCategory}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="exceptionCategoryStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="exceptionCategoryStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.exceptionCategoryStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Hs Code</td>
                                            <td><input type="text" readonly th:value="${pvoc.hsCode}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="hscodeStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="hscodeStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.hscodeStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Industrial Spares Description</td>
                                            <td><input type="text" readonly th:value="${pvoc.industrialSparesDescription}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="industrialSparesStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="industrialSparesStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.industrialSparesStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Machine To Be Fitted</td>
                                            <td><input type="text" readonly th:value="${pvoc.machineToBeFitted}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="machineToBeFittedStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="machineToBeFittedStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.machineToBeFittedStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>End Product</td>
                                            <td><input type="text" readonly th:value="${pvoc.endProduct}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="endProductStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="endProductStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.endProductStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Raw Material Description</td>
                                            <td><input type="text" readonly th:value="${pvoc.rawMaterialDescription}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="rawMaterialDescriptionStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="rawMaterialDescriptionStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.rawMaterialDescriptionStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Duty Rate</td>
                                            <td><input type="text" readonly th:value="${pvoc.dutyRate}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="dutyRateStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="dutyRateStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.dutyRateStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Machine Description</td>
                                            <td><input type="text" readonly th:value="${pvoc.machineDescription}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="machineDescriptionStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="machineDescriptionStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.machineDescriptionStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Country Of Origin</td>
                                            <td><input type="text" readonly th:value="${pvoc.countryOfOrigin}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="contryOfOriginStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="contryOfOriginStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.contryOfOriginStatusReview}"></td>
                                        </tr>
                                        <tr>
                                            <td>Approval Status</td>
                                            <td><input type="text" readonly th:value="${pvoc.reviewStatus}"></td>
                                            <td>--</td>
                                            <td></td>
                                        </tr>
                                        <tr>
                                            <td>Postal Address
                                            </td>
                                            <td><input type="text" readonly th:value="${pvoc.postalAadress}"></td>
                                            <td>
                                                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                    <div class="ml-2 mr-4">
                                                        <label >pass</label>
                                                        <input type="radio" th:name="postalAadressStatusReview" th:value="Pass" class="form-control" >
                                                    </div>
                                                    <div>
                                                        <label >fail</label>
                                                        <input type="radio" th:name="postalAadressStatusReview" th:value="Fail" class="form-control" >
                                                    </div>
                                                </div>
                                            </td>
                                            <td th:text="${pvoc?.postalAadressStatusReview}">--</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2"><input type="submit" value="Update Applications Details"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </form>
                            </div>
                            <button class="accordion">Product Details</button>
                            <div class="panel" >
                                <div class="row-table ">
                                    <form th:action="@{/api/di/pvoc/exceptions-product-items-approve/{id}(id =${pvoc.id})}" method="post" th:object="${products}" style="">
                                        <table class="table table-striped" style="width: 70%">
                                            <thead>
                                            <tr>
                                                <th>Number</th>
                                                <th>Name</th>
                                                <th>Brand</th>
                                                <th>Permit No</th>
                                                <th>Expiry </th>
                                                <th>Status</th>
                                                <th>Review Status</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr class="list" style="cursor: pointer" th:each="itemCoc, itemStat: ${products}">
                                                <td>
                                                    <input type="text" readonly th:name="|products[${itemStat.index}]?.id|" th:value="${itemCoc?.id}">
                                                </td>
                                                <td>
                                                    <input type="text" readonly th:name="|products[${itemStat.index}]?.productName|" th:value="${itemCoc?.productName}">
                                                </td>
                                                <td>
                                                    <input type="text" readonly th:name="|products[${itemStat.index}]?.brand|" th:value="${itemCoc?.brand}">
                                                </td>
                                                <td>
                                                    <input type="text" readonly th:name="|products[${itemStat.index}]?.kebsStandardizationMarkPermit|" th:value="${itemCoc?.kebsStandardizationMarkPermit}">
                                                </td>
                                                <td>
                                                    <input type="text" readonly th:name="|products[${itemStat.index}]?.expirelyDate|" th:value="${itemCoc?.expirelyDate}">
                                                </td>
                                                <td>
                                                    <div class="form-group" style="display: flex; justify-content: space-between; align-items: center">
                                                        <div class="ml-2 mr-4">
                                                            <label >pass</label>
                                                            <input type="radio" th:name="|products[${itemStat.index}]?.checkBoxChecked|" th:value="1" class="form-control" >
                                                        </div>
                                                        <div>
                                                            <label >fail</label>
                                                            <input type="radio" th:name="|products[${itemStat.index}]?.checkBoxChecked|" th:value="0" class="form-control" >
                                                        </div>
                                                    </div>
                                                </td>
                                                <td th:switch="${itemCoc?.checkBoxChecked}">
                                                    <div th:case="1">
                                                        Pass
                                                    </div>
                                                    <div th:case="0">
                                                        <span>Fail</span>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="6"><input type="submit" value="Up Applications Details"></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="filter-block">
                <div class="filter-block-title">
                    <div class="filter-title">Actions:</div>
                </div>
                <div sec:authorize="hasAuthority('PVOC_APPLICATION_PROCESS')">
                    <input type="hidden" id="pvocId" th:value="${pvoc.id}">
                    <a class="filter-link except"  data-toggle="modal" data-target="#modal-warning" th:attr="data-target='#modal-warning'+${pvoc.id }" style="color: white">Excempt</a>
                    <a class="filter-link reject" data-toggle="modal" data-target="#modal-warning" th:attr="data-target='#modal-warning'+${pvoc.id }" style="color: white">Reject</a>
                    <a class="filter-link deffer" data-toggle="modal" data-target="#modal-warning" th:attr="data-target='#modal-warning'+${pvoc.id }" style="color: white">Deffer</a>
                    <a class="filter-link " th:href="@{/api/di/pvoc/remarks-view/{id}(id = ${pvoc.id })}" style="color: white">View Remarks</a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="">
    <form id="remarksForm"   name="remarksForm" method="post" th:object="${remarkData}" >
        <div class="modal modal-warning fade in" th:id="modal-warning+${pvoc.id }"  tabindex="-1" role="dialog" aria-labelledby="remarksModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="remarksModalLabel"></h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="remarksAdd" class="col-form-label">Please write, in detail, your remarks for this Exception Application:</label>
                            <textarea required name="name" id="remarksAdd" class="input-field w-input" cols="100" rows="5" th:field="*{remarks}"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <input type="submit" class="btn btn-primary save" value="Save Remarks"/>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
</div>
</div>
</div>
</div>
<script crossorigin="anonymous" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js" type="text/javascript"></script>
<script src="../assets/js/webflow.js" type="text/javascript"></script>
<script crossorigin="anonymous" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<!-- [if lte IE 9]>
<script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
<script>
    var acc = document.getElementsByClassName("accordion");
    // var btn = document.getElementsByClassName("button w-button eBtn");
    var i;

    for (i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function () {
            this.classList.toggle("active");
            this.style.border = "none";
            // this.style.position = "sticky"
            var panel = this.nextElementSibling;
            if (panel.style.maxHeight) {
                panel.style.maxHeight = null;
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
                // panel.style.position = "-webkit-sticky"
                // panel.style.position = "sticky"
            }
        });
    }


</script>
<script>
    $(document).ready(function () {
        var remarksType;
        let pvocId = $('#pvocId').val()

        let urlValue
        $('.except').click(function(){
            remarksType = 'excepted'
            urlValue = `/api/di/pvoc/pvoc_process_exceptions_application/${pvocId}/${remarksType}`
            alert(urlValue)
            $('#remarksModalLabel').html("Exception Remarks")
            $('#remarksForm').attr('action', urlValue);
        })

        $('.deffer').click(function(){

            remarksType = 'deffered'
            urlValue = `/api/di/pvoc/pvoc_process_exceptions_application/${pvocId}/${remarksType}`
            alert(urlValue)
            $('#remarksModalLabel').html("Deffer Remarks")
            $('#remarksForm').attr('action', urlValue);
        })

        $('.reject').click(function(){
            alert(pvocId)
            remarksType = 'rejected'
            urlValue = `/api/di/pvoc/pvoc_process_exceptions_application/${pvocId}/${remarksType}`
            alert(urlValue)
            $('#remarksModalLabel').html("Rejection Remarks")
            $('#remarksForm').attr('action', urlValue);
        })
    });

</script>
</body>
</html>


